{"ast":null,"code":"import axios from 'axios';\n\n// ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ URL API\nconst getApiUrl = () => {\n  // Ð’ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ñ…Ð¾ÑÑ‚\n  if (process.env.NODE_ENV === 'production') {\n    return `${window.location.protocol}//${window.location.host}/api`;\n  }\n\n  // Ð’ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¹ URL Ð¸Ð»Ð¸ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹\n  return process.env.REACT_APP_API_URL || 'http://10.35.3.117:5001/api';\n};\nconsole.log('API Configuration:', {\n  NODE_ENV: process.env.NODE_ENV,\n  REACT_APP_API_URL: process.env.REACT_APP_API_URL,\n  computed_url: getApiUrl()\n});\n\n// Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ API\nconst api = axios.create({\n  baseURL: getApiUrl(),\n  timeout: 15000,\n  // Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Ð˜Ð½Ñ‚ÐµÑ€ÑÐµÐ¿Ñ‚Ð¾Ñ€ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² - Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸\n  if (process.env.NODE_ENV === 'development') {\n    var _config$method;\n    console.log('API Request:', (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(), config.url, config.data);\n  }\n  return config;\n}, error => {\n  console.error('âŒ Request Error:', error);\n  return Promise.reject(error);\n});\n\n// Ð˜Ð½Ñ‚ÐµÑ€ÑÐµÐ¿Ñ‚Ð¾Ñ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² - Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº\napi.interceptors.response.use(response => {\n  // Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸\n  if (process.env.NODE_ENV === 'development') {\n    console.log('API Response:', response.status, response.config.url, response.data);\n  }\n  return response;\n}, error => {\n  console.error('API Error:', error);\n\n  // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾ÑˆÐ¸Ð±Ð¾Ðº\n  if (error.response) {\n    // Ð¡ÐµÑ€Ð²ÐµÑ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ð» Ñ ÐºÐ¾Ð´Ð¾Ð¼ Ð¾ÑˆÐ¸Ð±ÐºÐ¸\n    const {\n      status,\n      data\n    } = error.response;\n    switch (status) {\n      case 401:\n        // ÐÐµÐ°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ - ÑƒÐ´Ð°Ð»ÑÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½\n        localStorage.removeItem('authToken');\n        // ÐÐµ Ð¿ÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸, Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñƒ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ\n        break;\n      case 403:\n        console.warn('ðŸš« Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½');\n        break;\n      case 404:\n        console.warn('ðŸ” Ð ÐµÑÑƒÑ€Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½');\n        break;\n      case 422:\n        console.warn('ðŸ“ ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…');\n        break;\n      case 500:\n        console.error('ðŸ”¥ Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°');\n        break;\n      default:\n        console.error(`ðŸ› HTTP Error ${status}:`, (data === null || data === void 0 ? void 0 : data.message) || 'ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°');\n    }\n\n    // Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½ÑƒÑŽ Ð¾ÑˆÐ¸Ð±ÐºÑƒ\n    return Promise.reject({\n      status,\n      message: (data === null || data === void 0 ? void 0 : data.message) || `ÐžÑˆÐ¸Ð±ÐºÐ° HTTP ${status}`,\n      data\n    });\n  } else if (error.request) {\n    // Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð±Ñ‹Ð» Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½, Ð½Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½\n    console.error('ðŸŒ Ð¡ÐµÑ‚ÑŒ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð¸Ð»Ð¸ ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚');\n    return Promise.reject({\n      message: 'Ð¡ÐµÑ€Ð²ÐµÑ€ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ÑÐµÑ‚Ð¸.',\n      network: true\n    });\n  } else {\n    // Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº Ð¿Ñ€Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\n    console.error('âš™ï¸ ÐžÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°:', error.message);\n    return Promise.reject({\n      message: error.message || 'ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¾Ð¶Ð¸Ð´Ð°Ð½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°'\n    });\n  }\n});\n\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ API\nexport const checkApiHealth = async () => {\n  try {\n    const response = await api.get('/health');\n    console.log('API Health Check ÑƒÑÐ¿ÐµÑˆÐµÐ½:', response.data);\n    return true;\n  } catch (error) {\n    console.error('API Health Check Ð½ÐµÑƒÑÐ¿ÐµÑˆÐµÐ½:', error);\n    return false;\n  }\n};\n\n// Ð’ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²\nexport const apiHelpers = {\n  // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ API\n  healthCheck: () => api.get('/health'),\n  // ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ\n  auth: {\n    login: credentials => api.post('/auth/login', credentials),\n    register: userData => api.post('/auth/register', userData),\n    verify: () => api.get('/auth/verify'),\n    logout: () => api.post('/auth/logout'),\n    getUsers: () => api.get('/auth/users')\n  },\n  // ÐžÐ±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ\n  equipment: {\n    getAll: () => api.get('/equipment'),\n    getById: id => api.get(`/equipment/${id}`),\n    getStats: () => api.get('/equipment/stats'),\n    create: data => api.post('/equipment', data),\n    update: (id, data) => api.put(`/equipment/${id}`, data),\n    delete: id => api.delete(`/equipment/${id}`),\n    getHistory: id => api.get(`/equipment/${id}/history`)\n  }\n};\n\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\nexport const createCancelToken = () => axios.CancelToken.source();\n\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\nexport const isCancel = error => axios.isCancel(error);\n\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\nexport const retryRequest = async (requestFn, maxRetries = 3, delay = 1000) => {\n  let lastError;\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await requestFn();\n    } catch (error) {\n      lastError = error;\n\n      // ÐÐµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð´Ð»Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¸Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº (4xx)\n      if (error.status >= 400 && error.status < 500) {\n        throw error;\n      }\n\n      // Ð–Ð´ÐµÐ¼ Ð¿ÐµÑ€ÐµÐ´ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ¾Ð¹\n      if (i < maxRetries - 1) {\n        await new Promise(resolve => setTimeout(resolve, delay * (i + 1)));\n      }\n    }\n  }\n  throw lastError;\n};\nexport default api;","map":{"version":3,"names":["axios","getApiUrl","process","env","NODE_ENV","window","location","protocol","host","REACT_APP_API_URL","console","log","computed_url","api","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","_config$method","method","toUpperCase","url","data","error","Promise","reject","response","status","removeItem","warn","message","network","checkApiHealth","get","apiHelpers","healthCheck","auth","login","credentials","post","register","userData","verify","logout","getUsers","equipment","getAll","getById","id","getStats","update","put","delete","getHistory","createCancelToken","CancelToken","source","isCancel","retryRequest","requestFn","maxRetries","delay","lastError","i","resolve","setTimeout"],"sources":["C:/Users/kassymzhan.nuraliyev/OneDrive - KAZ Minerals Management LLP/Desktop/Tablo/Tablo/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ URL API\r\nconst getApiUrl = () => {\r\n    // Ð’ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ñ…Ð¾ÑÑ‚\r\n    if (process.env.NODE_ENV === 'production') {\r\n        return `${window.location.protocol}//${window.location.host}/api`;\r\n    }\r\n\r\n    // Ð’ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¹ URL Ð¸Ð»Ð¸ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹\r\n    return process.env.REACT_APP_API_URL || 'http://10.35.3.117:5001/api';\r\n};\r\n\r\nconsole.log('API Configuration:', {\r\n    NODE_ENV: process.env.NODE_ENV,\r\n    REACT_APP_API_URL: process.env.REACT_APP_API_URL,\r\n    computed_url: getApiUrl()\r\n});\r\n\r\n// Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ API\r\nconst api = axios.create({\r\n    baseURL: getApiUrl(),\r\n    timeout: 15000, // Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Ð˜Ð½Ñ‚ÐµÑ€ÑÐµÐ¿Ñ‚Ð¾Ñ€ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² - Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('authToken');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n\r\n        // Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.log('API Request:', config.method?.toUpperCase(), config.url, config.data);\r\n        }\r\n\r\n        return config;\r\n    },\r\n    (error) => {\r\n        console.error('âŒ Request Error:', error);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Ð˜Ð½Ñ‚ÐµÑ€ÑÐµÐ¿Ñ‚Ð¾Ñ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² - Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº\r\napi.interceptors.response.use(\r\n    (response) => {\r\n        // Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.log('API Response:', response.status, response.config.url, response.data);\r\n        }\r\n\r\n        return response;\r\n    },\r\n    (error) => {\r\n        console.error('API Error:', error);\r\n\r\n        // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾ÑˆÐ¸Ð±Ð¾Ðº\r\n        if (error.response) {\r\n            // Ð¡ÐµÑ€Ð²ÐµÑ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ð» Ñ ÐºÐ¾Ð´Ð¾Ð¼ Ð¾ÑˆÐ¸Ð±ÐºÐ¸\r\n            const { status, data } = error.response;\r\n\r\n            switch (status) {\r\n                case 401:\r\n                    // ÐÐµÐ°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ - ÑƒÐ´Ð°Ð»ÑÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½\r\n                    localStorage.removeItem('authToken');\r\n                    // ÐÐµ Ð¿ÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸, Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñƒ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ\r\n                    break;\r\n\r\n                case 403:\r\n                    console.warn('ðŸš« Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½');\r\n                    break;\r\n\r\n                case 404:\r\n                    console.warn('ðŸ” Ð ÐµÑÑƒÑ€Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½');\r\n                    break;\r\n\r\n                case 422:\r\n                    console.warn('ðŸ“ ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…');\r\n                    break;\r\n\r\n                case 500:\r\n                    console.error('ðŸ”¥ Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°');\r\n                    break;\r\n\r\n                default:\r\n                    console.error(`ðŸ› HTTP Error ${status}:`, data?.message || 'ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°');\r\n            }\r\n\r\n            // Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½ÑƒÑŽ Ð¾ÑˆÐ¸Ð±ÐºÑƒ\r\n            return Promise.reject({\r\n                status,\r\n                message: data?.message || `ÐžÑˆÐ¸Ð±ÐºÐ° HTTP ${status}`,\r\n                data\r\n            });\r\n        } else if (error.request) {\r\n            // Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð±Ñ‹Ð» Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½, Ð½Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½\r\n            console.error('ðŸŒ Ð¡ÐµÑ‚ÑŒ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð¸Ð»Ð¸ ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚');\r\n            return Promise.reject({\r\n                message: 'Ð¡ÐµÑ€Ð²ÐµÑ€ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ÑÐµÑ‚Ð¸.',\r\n                network: true\r\n            });\r\n        } else {\r\n            // Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº Ð¿Ñ€Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\r\n            console.error('âš™ï¸ ÐžÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°:', error.message);\r\n            return Promise.reject({\r\n                message: error.message || 'ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¾Ð¶Ð¸Ð´Ð°Ð½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°'\r\n            });\r\n        }\r\n    }\r\n);\r\n\r\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ API\r\nexport const checkApiHealth = async () => {\r\n    try {\r\n        const response = await api.get('/health');\r\n        console.log('API Health Check ÑƒÑÐ¿ÐµÑˆÐµÐ½:', response.data);\r\n        return true;\r\n    } catch (error) {\r\n        console.error('API Health Check Ð½ÐµÑƒÑÐ¿ÐµÑˆÐµÐ½:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Ð’ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²\r\nexport const apiHelpers = {\r\n    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ API\r\n    healthCheck: () => api.get('/health'),\r\n\r\n    // ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ\r\n    auth: {\r\n        login: (credentials) => api.post('/auth/login', credentials),\r\n        register: (userData) => api.post('/auth/register', userData),\r\n        verify: () => api.get('/auth/verify'),\r\n        logout: () => api.post('/auth/logout'),\r\n        getUsers: () => api.get('/auth/users'),\r\n    },\r\n\r\n    // ÐžÐ±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ\r\n    equipment: {\r\n        getAll: () => api.get('/equipment'),\r\n        getById: (id) => api.get(`/equipment/${id}`),\r\n        getStats: () => api.get('/equipment/stats'),\r\n        create: (data) => api.post('/equipment', data),\r\n        update: (id, data) => api.put(`/equipment/${id}`, data),\r\n        delete: (id) => api.delete(`/equipment/${id}`),\r\n        getHistory: (id) => api.get(`/equipment/${id}/history`),\r\n    },\r\n};\r\n\r\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\r\nexport const createCancelToken = () => axios.CancelToken.source();\r\n\r\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\r\nexport const isCancel = (error) => axios.isCancel(error);\r\n\r\n// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\r\nexport const retryRequest = async (requestFn, maxRetries = 3, delay = 1000) => {\r\n    let lastError;\r\n\r\n    for (let i = 0; i < maxRetries; i++) {\r\n        try {\r\n            return await requestFn();\r\n        } catch (error) {\r\n            lastError = error;\r\n\r\n            // ÐÐµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð´Ð»Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¸Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº (4xx)\r\n            if (error.status >= 400 && error.status < 500) {\r\n                throw error;\r\n            }\r\n\r\n            // Ð–Ð´ÐµÐ¼ Ð¿ÐµÑ€ÐµÐ´ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ¾Ð¹\r\n            if (i < maxRetries - 1) {\r\n                await new Promise(resolve => setTimeout(resolve, delay * (i + 1)));\r\n            }\r\n        }\r\n    }\r\n\r\n    throw lastError;\r\n};\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,SAAS,GAAGA,CAAA,KAAM;EACpB;EACA,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACvC,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAKF,MAAM,CAACC,QAAQ,CAACE,IAAI,MAAM;EACrE;;EAEA;EACA,OAAON,OAAO,CAACC,GAAG,CAACM,iBAAiB,IAAI,6BAA6B;AACzE,CAAC;AAEDC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE;EAC9BP,QAAQ,EAAEF,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC9BK,iBAAiB,EAAEP,OAAO,CAACC,GAAG,CAACM,iBAAiB;EAChDG,YAAY,EAAEX,SAAS,CAAC;AAC5B,CAAC,CAAC;;AAEF;AACA,MAAMY,GAAG,GAAGb,KAAK,CAACc,MAAM,CAAC;EACrBC,OAAO,EAAEd,SAAS,CAAC,CAAC;EACpBe,OAAO,EAAE,KAAK;EAAE;EAChBC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CACvBC,MAAM,IAAK;EACR,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EACpD;;EAEA;EACA,IAAIpB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;IAAA,IAAAsB,cAAA;IACxChB,OAAO,CAACC,GAAG,CAAC,cAAc,GAAAe,cAAA,GAAEL,MAAM,CAACM,MAAM,cAAAD,cAAA,uBAAbA,cAAA,CAAeE,WAAW,CAAC,CAAC,EAAEP,MAAM,CAACQ,GAAG,EAAER,MAAM,CAACS,IAAI,CAAC;EACtF;EAEA,OAAOT,MAAM;AACjB,CAAC,EACAU,KAAK,IAAK;EACPrB,OAAO,CAACqB,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;EACxC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;;AAED;AACAlB,GAAG,CAACK,YAAY,CAACgB,QAAQ,CAACd,GAAG,CACxBc,QAAQ,IAAK;EACV;EACA,IAAIhC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;IACxCM,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEuB,QAAQ,CAACC,MAAM,EAAED,QAAQ,CAACb,MAAM,CAACQ,GAAG,EAAEK,QAAQ,CAACJ,IAAI,CAAC;EACrF;EAEA,OAAOI,QAAQ;AACnB,CAAC,EACAH,KAAK,IAAK;EACPrB,OAAO,CAACqB,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;;EAElC;EACA,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAChB;IACA,MAAM;MAAEC,MAAM;MAAEL;IAAK,CAAC,GAAGC,KAAK,CAACG,QAAQ;IAEvC,QAAQC,MAAM;MACV,KAAK,GAAG;QACJ;QACAZ,YAAY,CAACa,UAAU,CAAC,WAAW,CAAC;QACpC;QACA;MAEJ,KAAK,GAAG;QACJ1B,OAAO,CAAC2B,IAAI,CAAC,oBAAoB,CAAC;QAClC;MAEJ,KAAK,GAAG;QACJ3B,OAAO,CAAC2B,IAAI,CAAC,qBAAqB,CAAC;QACnC;MAEJ,KAAK,GAAG;QACJ3B,OAAO,CAAC2B,IAAI,CAAC,4BAA4B,CAAC;QAC1C;MAEJ,KAAK,GAAG;QACJ3B,OAAO,CAACqB,KAAK,CAAC,8BAA8B,CAAC;QAC7C;MAEJ;QACIrB,OAAO,CAACqB,KAAK,CAAC,iBAAiBI,MAAM,GAAG,EAAE,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,OAAO,KAAI,oBAAoB,CAAC;IACxF;;IAEA;IACA,OAAON,OAAO,CAACC,MAAM,CAAC;MAClBE,MAAM;MACNG,OAAO,EAAE,CAAAR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,OAAO,KAAI,eAAeH,MAAM,EAAE;MACjDL;IACJ,CAAC,CAAC;EACN,CAAC,MAAM,IAAIC,KAAK,CAACZ,OAAO,EAAE;IACtB;IACAT,OAAO,CAACqB,KAAK,CAAC,2CAA2C,CAAC;IAC1D,OAAOC,OAAO,CAACC,MAAM,CAAC;MAClBK,OAAO,EAAE,kDAAkD;MAC3DC,OAAO,EAAE;IACb,CAAC,CAAC;EACN,CAAC,MAAM;IACH;IACA7B,OAAO,CAACqB,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAACO,OAAO,CAAC;IAC/D,OAAON,OAAO,CAACC,MAAM,CAAC;MAClBK,OAAO,EAAEP,KAAK,CAACO,OAAO,IAAI;IAC9B,CAAC,CAAC;EACN;AACJ,CACJ,CAAC;;AAED;AACA,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAMrB,GAAG,CAAC4B,GAAG,CAAC,SAAS,CAAC;IACzC/B,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEuB,QAAQ,CAACJ,IAAI,CAAC;IACvD,OAAO,IAAI;EACf,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZrB,OAAO,CAACqB,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,KAAK;EAChB;AACJ,CAAC;;AAED;AACA,OAAO,MAAMW,UAAU,GAAG;EACtB;EACAC,WAAW,EAAEA,CAAA,KAAM9B,GAAG,CAAC4B,GAAG,CAAC,SAAS,CAAC;EAErC;EACAG,IAAI,EAAE;IACFC,KAAK,EAAGC,WAAW,IAAKjC,GAAG,CAACkC,IAAI,CAAC,aAAa,EAAED,WAAW,CAAC;IAC5DE,QAAQ,EAAGC,QAAQ,IAAKpC,GAAG,CAACkC,IAAI,CAAC,gBAAgB,EAAEE,QAAQ,CAAC;IAC5DC,MAAM,EAAEA,CAAA,KAAMrC,GAAG,CAAC4B,GAAG,CAAC,cAAc,CAAC;IACrCU,MAAM,EAAEA,CAAA,KAAMtC,GAAG,CAACkC,IAAI,CAAC,cAAc,CAAC;IACtCK,QAAQ,EAAEA,CAAA,KAAMvC,GAAG,CAAC4B,GAAG,CAAC,aAAa;EACzC,CAAC;EAED;EACAY,SAAS,EAAE;IACPC,MAAM,EAAEA,CAAA,KAAMzC,GAAG,CAAC4B,GAAG,CAAC,YAAY,CAAC;IACnCc,OAAO,EAAGC,EAAE,IAAK3C,GAAG,CAAC4B,GAAG,CAAC,cAAce,EAAE,EAAE,CAAC;IAC5CC,QAAQ,EAAEA,CAAA,KAAM5C,GAAG,CAAC4B,GAAG,CAAC,kBAAkB,CAAC;IAC3C3B,MAAM,EAAGgB,IAAI,IAAKjB,GAAG,CAACkC,IAAI,CAAC,YAAY,EAAEjB,IAAI,CAAC;IAC9C4B,MAAM,EAAEA,CAACF,EAAE,EAAE1B,IAAI,KAAKjB,GAAG,CAAC8C,GAAG,CAAC,cAAcH,EAAE,EAAE,EAAE1B,IAAI,CAAC;IACvD8B,MAAM,EAAGJ,EAAE,IAAK3C,GAAG,CAAC+C,MAAM,CAAC,cAAcJ,EAAE,EAAE,CAAC;IAC9CK,UAAU,EAAGL,EAAE,IAAK3C,GAAG,CAAC4B,GAAG,CAAC,cAAce,EAAE,UAAU;EAC1D;AACJ,CAAC;;AAED;AACA,OAAO,MAAMM,iBAAiB,GAAGA,CAAA,KAAM9D,KAAK,CAAC+D,WAAW,CAACC,MAAM,CAAC,CAAC;;AAEjE;AACA,OAAO,MAAMC,QAAQ,GAAIlC,KAAK,IAAK/B,KAAK,CAACiE,QAAQ,CAAClC,KAAK,CAAC;;AAExD;AACA,OAAO,MAAMmC,YAAY,GAAG,MAAAA,CAAOC,SAAS,EAAEC,UAAU,GAAG,CAAC,EAAEC,KAAK,GAAG,IAAI,KAAK;EAC3E,IAAIC,SAAS;EAEb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,UAAU,EAAEG,CAAC,EAAE,EAAE;IACjC,IAAI;MACA,OAAO,MAAMJ,SAAS,CAAC,CAAC;IAC5B,CAAC,CAAC,OAAOpC,KAAK,EAAE;MACZuC,SAAS,GAAGvC,KAAK;;MAEjB;MACA,IAAIA,KAAK,CAACI,MAAM,IAAI,GAAG,IAAIJ,KAAK,CAACI,MAAM,GAAG,GAAG,EAAE;QAC3C,MAAMJ,KAAK;MACf;;MAEA;MACA,IAAIwC,CAAC,GAAGH,UAAU,GAAG,CAAC,EAAE;QACpB,MAAM,IAAIpC,OAAO,CAACwC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAEH,KAAK,IAAIE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACtE;IACJ;EACJ;EAEA,MAAMD,SAAS;AACnB,CAAC;AAED,eAAezD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}