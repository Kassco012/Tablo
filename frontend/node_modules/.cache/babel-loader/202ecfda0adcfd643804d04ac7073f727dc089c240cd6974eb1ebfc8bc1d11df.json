{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kassymzhan.nuraliyev\\\\OneDrive - KAZ Minerals Management LLP\\\\Desktop\\\\Tablo_15_10\\\\Tablo\\\\frontend\\\\src\\\\components\\\\EquipmentTable.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/EquipmentTable.js - исправленная версия с защитой от ошибок\n\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../services/api';\nimport './EquipmentTable.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EquipmentTable = ({\n  equipment,\n  isOpen,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    id: '',\n    type: '',\n    model: '',\n    section: '',\n    status: '',\n    priority: '',\n    planned_start: '',\n    planned_end: '',\n    actual_start: '',\n    actual_end: '',\n    delay_hours: 0,\n    malfunction: '',\n    mechanic_name: '',\n    progress: 0\n  });\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]); // ✅ Всегда массив\n  const [historyLoading, setHistoryLoading] = useState(false); // ✅ Состояние загрузки\n  const [activeTab, setActiveTab] = useState('edit');\n  const [showIdChangeConfirm, setShowIdChangeConfirm] = useState(false);\n  const [originalId, setOriginalId] = useState('');\n\n  // Список участков\n  const SECTIONS = ['колесные техники', 'гусеничные техники', 'шиномонтажные работы', 'капитальный ремонт', 'энергоучасток', 'легкотоннажные техники'];\n  useEffect(() => {\n    if (equipment) {\n      const equipmentData = {\n        id: equipment.id || '',\n        type: equipment.type || '',\n        model: equipment.model || '',\n        section: equipment.section || 'колесные техники',\n        status: equipment.status || '',\n        priority: equipment.priority || '',\n        planned_start: equipment.planned_start || '',\n        planned_end: equipment.planned_end || '',\n        actual_start: equipment.actual_start || '',\n        actual_end: equipment.actual_end || '',\n        delay_hours: equipment.delay_hours || 0,\n        malfunction: equipment.malfunction || '',\n        mechanic_name: equipment.mechanic_name || '',\n        progress: equipment.progress || 0\n      };\n      setFormData(equipmentData);\n      setOriginalId(equipment.id);\n      if (user && (user.role === 'admin' || user.role === 'dispatcher')) {\n        loadHistory();\n      }\n    }\n  }, [equipment, user]);\n\n  // ✅ ИСПРАВЛЕННАЯ функция загрузки истории\n  const loadHistory = async () => {\n    setHistoryLoading(true);\n    try {\n      const response = await api.get(`/equipment/${equipment.id}/history`);\n\n      // ✅ Проверяем, что данные - это массив\n      if (response.data && Array.isArray(response.data)) {\n        setHistory(response.data);\n      } else {\n        console.warn('⚠️ История пришла не в виде массива:', response.data);\n        setHistory([]); // Устанавливаем пустой массив\n      }\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('❌ Error loading history:', error);\n\n      // ✅ При ошибке устанавливаем пустой массив\n      setHistory([]);\n\n      // Показываем пользователю уведомление\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 404) {\n        toast.info('История для этого оборудования пока не создана');\n      } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 500) {\n        toast.error('Ошибка сервера при загрузке истории');\n      } else {\n        toast.error('Не удалось загрузить историю изменений');\n      }\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n  const handleIdChange = async () => {\n    if (!formData.id || formData.id.trim() === '') {\n      toast.error('ID не может быть пустым');\n      return;\n    }\n    if (formData.id === originalId) {\n      toast.info('ID не изменился');\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await api.put(`/equipment/${originalId}/change-id`, {\n        newId: formData.id.trim()\n      });\n      toast.success('ID оборудования изменен успешно!');\n      setOriginalId(formData.id);\n      setShowIdChangeConfirm(false);\n      onSave();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error changing ID:', error);\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Ошибка изменения ID');\n      setFormData(prev => ({\n        ...prev,\n        id: originalId\n      }));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user || user.role !== 'admin' && user.role !== 'dispatcher') {\n      toast.error('Недостаточно прав для редактирования');\n      return;\n    }\n    if (formData.id !== originalId) {\n      setShowIdChangeConfirm(true);\n      return;\n    }\n    await saveEquipmentData();\n  };\n  const saveEquipmentData = async () => {\n    setLoading(true);\n    try {\n      const currentId = formData.id || originalId;\n      const updateData = {\n        type: formData.type,\n        model: formData.model,\n        section: formData.section,\n        status: formData.status,\n        priority: formData.priority,\n        planned_start: formData.planned_start,\n        planned_end: formData.planned_end,\n        actual_start: formData.actual_start,\n        actual_end: formData.actual_end,\n        delay_hours: formData.delay_hours,\n        malfunction: formData.malfunction,\n        mechanic_name: formData.mechanic_name,\n        progress: formData.progress\n      };\n      await api.put(`/equipment/${currentId}`, updateData);\n      toast.success('Данные обновлены успешно!');\n      onSave();\n      onClose();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error updating equipment:', error);\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Ошибка обновления данных');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value) || 0 : value\n    }));\n  };\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const getStatusText = status => {\n    const statusMap = {\n      'Down': 'Не работает',\n      'Ready': 'Готова',\n      'Standby': 'Ожидание',\n      'Delay': 'Задержка',\n      'Shiftchange': 'Смена'\n    };\n    return statusMap[status] || status;\n  };\n  const getEquipmentTypeText = type => {\n    return type === 'excavator' ? 'Экскаватор' : 'Погрузчик';\n  };\n  const getSectionText = section => {\n    return section || 'Не указан';\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleString('ru-RU');\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return dateString;\n    }\n  };\n  const getActionText = action => {\n    const actionMap = {\n      'create': 'Создание',\n      'update_status': 'Изменение статуса',\n      'update_progress': 'Обновление прогресса',\n      'update_mechanic_name': 'Назначение механика',\n      'update_type': 'Изменение типа',\n      'update_model': 'Изменение модели',\n      'update_section': 'Изменение участка',\n      'change_id': 'Изменение ID',\n      'delete': 'Удаление'\n    };\n    return actionMap[action] || action;\n  };\n  if (!isOpen || !equipment) return null;\n  const canEdit = user && (user.role === 'admin' || user.role === 'dispatcher');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content equipment-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \", originalId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"equipment-subtitle\",\n            children: [getEquipmentTypeText(equipment.type), \" \", equipment.model]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"equipment-subtitle\",\n            style: {\n              color: '#4facfe'\n            },\n            children: [\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043E\\u043A: \", getSectionText(equipment.section)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${activeTab === 'view' ? 'active' : ''}`,\n          onClick: () => setActiveTab('view'),\n          children: \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), canEdit && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${activeTab === 'edit' ? 'active' : ''}`,\n          onClick: () => setActiveTab('edit'),\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 25\n        }, this), canEdit && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${activeTab === 'history' ? 'active' : ''}`,\n          onClick: () => setActiveTab('history'),\n          children: \"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [activeTab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"equipment-id\",\n                children: equipment.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043E\\u043A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  background: 'rgba(79, 172, 254, 0.1)',\n                  color: '#4facfe',\n                  padding: '4px 8px',\n                  borderRadius: '6px',\n                  fontSize: '0.9rem',\n                  fontWeight: '500'\n                },\n                children: getSectionText(equipment.section)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0422\\u0438\\u043F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: getEquipmentTypeText(equipment.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.model\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${equipment.status}`,\n                children: getStatusText(equipment.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [equipment.actual_start || '-', \" - \", equipment.actual_end || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [equipment.planned_start, \" - \", equipment.planned_end]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0417\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.delay_hours > 0 ? `+${equipment.delay_hours}ч` : 'Нет'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041D\\u0435\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.malfunction || 'Не указана'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.mechanic_name || 'Не назначен'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }, this), activeTab === 'edit' && canEdit && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"edit-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"id\",\n                  value: formData.id,\n                  onChange: handleChange,\n                  disabled: loading,\n                  placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: EX001, LD002\",\n                  style: {\n                    flex: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 41\n                }, this), formData.id !== originalId && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowIdChangeConfirm(true),\n                  disabled: loading,\n                  style: {\n                    background: '#ffc107',\n                    color: '#000',\n                    border: 'none',\n                    padding: '8px 12px',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '0.8rem'\n                  },\n                  children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 37\n              }, this), formData.id !== originalId && /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#ffc107',\n                  fontSize: '0.8rem'\n                },\n                children: \"\\u26A0\\uFE0F ID \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D. \\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C ID\\\" \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043E\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"section\",\n                value: formData.section,\n                onChange: handleChange,\n                disabled: loading,\n                children: SECTIONS.map(section => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: section,\n                  children: getSectionText(section)\n                }, section, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0422\\u0438\\u043F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"type\",\n                value: formData.type,\n                onChange: handleChange,\n                disabled: loading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"excavator\",\n                  children: \"\\u042D\\u043A\\u0441\\u043A\\u0430\\u0432\\u0430\\u0442\\u043E\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"loader\",\n                  children: \"\\u041F\\u043E\\u0433\\u0440\\u0443\\u0437\\u0447\\u0438\\u043A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"model\",\n                value: formData.model,\n                onChange: handleChange,\n                disabled: loading,\n                placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: CAT 320D, Volvo L120H\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"status\",\n                value: formData.status,\n                onChange: handleChange,\n                disabled: loading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Ready\",\n                  children: \"Ready\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Down\",\n                  children: \"Down\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Standby\",\n                  children: \"Standby\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Delay\",\n                  children: \"Delay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Shiftchange\",\n                  children: \"Shiftchange\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"priority\",\n                value: formData.priority,\n                onChange: handleChange,\n                disabled: loading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"low\",\n                  children: \"\\u041D\\u0438\\u0437\\u043A\\u0438\\u0439\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"normal\",\n                  children: \"\\u041E\\u0431\\u044B\\u0447\\u043D\\u044B\\u0439\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"medium\",\n                  children: \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"high\",\n                  children: \"\\u0412\\u044B\\u0441\\u043E\\u043A\\u0438\\u0439\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"critical\",\n                  children: \"\\u041A\\u0440\\u0438\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u043E\\u0435 \\u043D\\u0430\\u0447\\u0430\\u043B\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                name: \"planned_start\",\n                value: formData.planned_start,\n                onChange: handleChange,\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u043E\\u0435 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                name: \"planned_end\",\n                value: formData.planned_end,\n                onChange: handleChange,\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u0435 \\u043D\\u0430\\u0447\\u0430\\u043B\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                name: \"actual_start\",\n                value: formData.actual_start,\n                onChange: handleChange,\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u0435 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                name: \"actual_end\",\n                value: formData.actual_end,\n                onChange: handleChange,\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0417\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430 (\\u0447\\u0430\\u0441\\u044B)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"delay_hours\",\n                value: formData.delay_hours,\n                onChange: handleChange,\n                min: \"0\",\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041D\\u0435\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"malfunction\",\n                value: formData.malfunction,\n                onChange: handleChange,\n                rows: \"3\",\n                placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0435\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043D\\u043E\\u0441\\u0442\\u0438...\",\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"mechanic_name\",\n                value: formData.mechanic_name,\n                onChange: handleChange,\n                placeholder: \"\\u0424\\u0418\\u041E \\u043C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A\\u0430\",\n                disabled: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-button\",\n              onClick: onClose,\n              disabled: loading,\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"save-button\",\n              disabled: loading,\n              children: loading ? 'Сохранение...' : 'Сохранить'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 25\n        }, this), activeTab === 'history' && canEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-content\",\n          children: historyLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '40px',\n              color: 'rgba(255, 255, 255, 0.7)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '40px',\n                height: '40px',\n                border: '4px solid rgba(79, 172, 254, 0.2)',\n                borderTop: '4px solid #4facfe',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite',\n                marginBottom: '15px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0439...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 33\n          }, this) : !history || history.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"no-history\",\n            style: {\n              textAlign: 'center',\n              padding: '40px',\n              color: 'rgba(255, 255, 255, 0.6)'\n            },\n            children: !history ? 'История недоступна' : 'История изменений пуста'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-list\",\n            children: history.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"history-action\",\n                  children: getActionText(item.action)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"history-time\",\n                  children: formatDateTime(item.timestamp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-user\",\n                children: [\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C: \", item.full_name || item.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 45\n              }, this), item.old_value && item.new_value && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-changes\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"old-value\",\n                  children: [\"\\\"\", item.old_value, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"arrow\",\n                  children: \"\\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"new-value\",\n                  children: [\"\\\"\", item.new_value, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 49\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }, this), showIdChangeConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-backdrop\",\n        onClick: e => {\n          if (e.target === e.currentTarget) setShowIdChangeConfirm(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          style: {\n            maxWidth: '500px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-button\",\n              onClick: () => setShowIdChangeConfirm(false),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'rgba(255, 193, 7, 0.1)',\n                padding: '15px',\n                borderRadius: '8px',\n                margin: '15px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0421\\u0442\\u0430\\u0440\\u044B\\u0439 ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 37\n              }, this), \" \", originalId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 77\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 37\n              }, this), \" \", formData.id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 77\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043E\\u043A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 37\n              }, this), \" \", getSectionText(formData.section)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: 'rgba(255,255,255,0.7)'\n              },\n              children: \"\\u26A0\\uFE0F \\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442 ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0432\\u043E \\u0432\\u0441\\u0435\\u0439 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0435 \\u0438 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                justifyContent: 'flex-end',\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"cancel-button\",\n                onClick: () => {\n                  setFormData(prev => ({\n                    ...prev,\n                    id: originalId\n                  }));\n                  setShowIdChangeConfirm(false);\n                },\n                disabled: loading,\n                children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleIdChange,\n                disabled: loading,\n                style: {\n                  background: '#ffc107',\n                  color: '#000',\n                  border: 'none',\n                  padding: '10px 20px',\n                  borderRadius: '6px',\n                  cursor: 'pointer',\n                  fontWeight: '600'\n                },\n                children: loading ? 'Изменение...' : 'Подтвердить изменение ID'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        jsx: true,\n        children: `\n                    @keyframes spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n                `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 9\n  }, this);\n};\n_s(EquipmentTable, \"xtqUVMmTmUhfpnWLvCEcSPBUT5s=\", false, function () {\n  return [useAuth];\n});\n_c = EquipmentTable;\nexport default EquipmentTable;\nvar _c;\n$RefreshReg$(_c, \"EquipmentTable\");","map":{"version":3,"names":["React","useState","useEffect","toast","useAuth","api","jsxDEV","_jsxDEV","EquipmentTable","equipment","isOpen","onClose","onSave","_s","user","formData","setFormData","id","type","model","section","status","priority","planned_start","planned_end","actual_start","actual_end","delay_hours","malfunction","mechanic_name","progress","loading","setLoading","history","setHistory","historyLoading","setHistoryLoading","activeTab","setActiveTab","showIdChangeConfirm","setShowIdChangeConfirm","originalId","setOriginalId","SECTIONS","equipmentData","role","loadHistory","response","get","data","Array","isArray","console","warn","error","_error$response","_error$response2","info","handleIdChange","trim","put","newId","success","_error$response3","_error$response3$data","message","prev","handleSubmit","e","preventDefault","saveEquipmentData","currentId","updateData","_error$response4","_error$response4$data","handleChange","name","value","target","parseInt","handleBackdropClick","currentTarget","getStatusText","statusMap","getEquipmentTypeText","getSectionText","formatDateTime","dateString","Date","toLocaleString","getActionText","action","actionMap","canEdit","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","background","padding","borderRadius","fontSize","fontWeight","onSubmit","display","gap","onChange","disabled","placeholder","flex","border","cursor","map","min","rows","flexDirection","alignItems","justifyContent","width","height","borderTop","animation","marginBottom","length","textAlign","item","timestamp","full_name","username","old_value","new_value","maxWidth","margin","marginTop","jsx","_c","$RefreshReg$"],"sources":["C:/Users/kassymzhan.nuraliyev/OneDrive - KAZ Minerals Management LLP/Desktop/Tablo_15_10/Tablo/frontend/src/components/EquipmentTable.js"],"sourcesContent":["// frontend/src/components/EquipmentTable.js - исправленная версия с защитой от ошибок\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport api from '../services/api';\r\nimport './EquipmentTable.css';\r\n\r\nconst EquipmentTable = ({ equipment, isOpen, onClose, onSave }) => {\r\n    const { user } = useAuth();\r\n    const [formData, setFormData] = useState({\r\n        id: '',\r\n        type: '',\r\n        model: '',\r\n        section: '',\r\n        status: '',\r\n        priority: '',\r\n        planned_start: '',\r\n        planned_end: '',\r\n        actual_start: '',\r\n        actual_end: '',\r\n        delay_hours: 0,\r\n        malfunction: '',\r\n        mechanic_name: '',\r\n        progress: 0\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [history, setHistory] = useState([]); // ✅ Всегда массив\r\n    const [historyLoading, setHistoryLoading] = useState(false); // ✅ Состояние загрузки\r\n    const [activeTab, setActiveTab] = useState('edit');\r\n    const [showIdChangeConfirm, setShowIdChangeConfirm] = useState(false);\r\n    const [originalId, setOriginalId] = useState('');\r\n\r\n    // Список участков\r\n    const SECTIONS = [\r\n        'колесные техники',\r\n        'гусеничные техники',\r\n        'шиномонтажные работы',\r\n        'капитальный ремонт',\r\n        'энергоучасток',\r\n        'легкотоннажные техники'\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if (equipment) {\r\n            const equipmentData = {\r\n                id: equipment.id || '',\r\n                type: equipment.type || '',\r\n                model: equipment.model || '',\r\n                section: equipment.section || 'колесные техники',\r\n                status: equipment.status || '',\r\n                priority: equipment.priority || '',\r\n                planned_start: equipment.planned_start || '',\r\n                planned_end: equipment.planned_end || '',\r\n                actual_start: equipment.actual_start || '',\r\n                actual_end: equipment.actual_end || '',\r\n                delay_hours: equipment.delay_hours || 0,\r\n                malfunction: equipment.malfunction || '',\r\n                mechanic_name: equipment.mechanic_name || '',\r\n                progress: equipment.progress || 0\r\n            };\r\n\r\n            setFormData(equipmentData);\r\n            setOriginalId(equipment.id);\r\n\r\n            if (user && (user.role === 'admin' || user.role === 'dispatcher')) {\r\n                loadHistory();\r\n            }\r\n        }\r\n    }, [equipment, user]);\r\n\r\n    // ✅ ИСПРАВЛЕННАЯ функция загрузки истории\r\n    const loadHistory = async () => {\r\n        setHistoryLoading(true);\r\n\r\n        try {\r\n            const response = await api.get(`/equipment/${equipment.id}/history`);\r\n\r\n            // ✅ Проверяем, что данные - это массив\r\n            if (response.data && Array.isArray(response.data)) {\r\n                setHistory(response.data);\r\n            } else {\r\n                console.warn('⚠️ История пришла не в виде массива:', response.data);\r\n                setHistory([]); // Устанавливаем пустой массив\r\n            }\r\n        } catch (error) {\r\n            console.error('❌ Error loading history:', error);\r\n\r\n            // ✅ При ошибке устанавливаем пустой массив\r\n            setHistory([]);\r\n\r\n            // Показываем пользователю уведомление\r\n            if (error.response?.status === 404) {\r\n                toast.info('История для этого оборудования пока не создана');\r\n            } else if (error.response?.status === 500) {\r\n                toast.error('Ошибка сервера при загрузке истории');\r\n            } else {\r\n                toast.error('Не удалось загрузить историю изменений');\r\n            }\r\n        } finally {\r\n            setHistoryLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleIdChange = async () => {\r\n        if (!formData.id || formData.id.trim() === '') {\r\n            toast.error('ID не может быть пустым');\r\n            return;\r\n        }\r\n\r\n        if (formData.id === originalId) {\r\n            toast.info('ID не изменился');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            const response = await api.put(`/equipment/${originalId}/change-id`, {\r\n                newId: formData.id.trim()\r\n            });\r\n\r\n            toast.success('ID оборудования изменен успешно!');\r\n            setOriginalId(formData.id);\r\n            setShowIdChangeConfirm(false);\r\n            onSave();\r\n        } catch (error) {\r\n            console.error('Error changing ID:', error);\r\n            toast.error(error.response?.data?.message || 'Ошибка изменения ID');\r\n            setFormData(prev => ({ ...prev, id: originalId }));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!user || (user.role !== 'admin' && user.role !== 'dispatcher')) {\r\n            toast.error('Недостаточно прав для редактирования');\r\n            return;\r\n        }\r\n\r\n        if (formData.id !== originalId) {\r\n            setShowIdChangeConfirm(true);\r\n            return;\r\n        }\r\n\r\n        await saveEquipmentData();\r\n    };\r\n\r\n    const saveEquipmentData = async () => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            const currentId = formData.id || originalId;\r\n\r\n            const updateData = {\r\n                type: formData.type,\r\n                model: formData.model,\r\n                section: formData.section,\r\n                status: formData.status,\r\n                priority: formData.priority,\r\n                planned_start: formData.planned_start,\r\n                planned_end: formData.planned_end,\r\n                actual_start: formData.actual_start,\r\n                actual_end: formData.actual_end,\r\n                delay_hours: formData.delay_hours,\r\n                malfunction: formData.malfunction,\r\n                mechanic_name: formData.mechanic_name,\r\n                progress: formData.progress\r\n            };\r\n\r\n            await api.put(`/equipment/${currentId}`, updateData);\r\n            toast.success('Данные обновлены успешно!');\r\n            onSave();\r\n            onClose();\r\n        } catch (error) {\r\n            console.error('Error updating equipment:', error);\r\n            toast.error(error.response?.data?.message || 'Ошибка обновления данных');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: type === 'number' ? parseInt(value) || 0 : value\r\n        }));\r\n    };\r\n\r\n    const handleBackdropClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const getStatusText = (status) => {\r\n        const statusMap = {\r\n            'Down': 'Не работает',\r\n            'Ready': 'Готова',\r\n            'Standby': 'Ожидание',\r\n            'Delay': 'Задержка',\r\n            'Shiftchange': 'Смена'\r\n        };\r\n        return statusMap[status] || status;\r\n    };\r\n\r\n    const getEquipmentTypeText = (type) => {\r\n        return type === 'excavator' ? 'Экскаватор' : 'Погрузчик';\r\n    };\r\n\r\n    const getSectionText = (section) => {\r\n        return section || 'Не указан';\r\n    };\r\n\r\n    const formatDateTime = (dateString) => {\r\n        if (!dateString) return '-';\r\n        try {\r\n            return new Date(dateString).toLocaleString('ru-RU');\r\n        } catch (error) {\r\n            console.error('Error formatting date:', error);\r\n            return dateString;\r\n        }\r\n    };\r\n\r\n    const getActionText = (action) => {\r\n        const actionMap = {\r\n            'create': 'Создание',\r\n            'update_status': 'Изменение статуса',\r\n            'update_progress': 'Обновление прогресса',\r\n            'update_mechanic_name': 'Назначение механика',\r\n            'update_type': 'Изменение типа',\r\n            'update_model': 'Изменение модели',\r\n            'update_section': 'Изменение участка',\r\n            'change_id': 'Изменение ID',\r\n            'delete': 'Удаление'\r\n        };\r\n        return actionMap[action] || action;\r\n    };\r\n\r\n    if (!isOpen || !equipment) return null;\r\n\r\n    const canEdit = user && (user.role === 'admin' || user.role === 'dispatcher');\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\" onClick={handleBackdropClick}>\r\n            <div className=\"modal-content equipment-modal\">\r\n                <div className=\"modal-header\">\r\n                    <div>\r\n                        <h2>Оборудование {originalId}</h2>\r\n                        <p className=\"equipment-subtitle\">\r\n                            {getEquipmentTypeText(equipment.type)} {equipment.model}\r\n                        </p>\r\n                        <p className=\"equipment-subtitle\" style={{ color: '#4facfe' }}>\r\n                            Участок: {getSectionText(equipment.section)}\r\n                        </p>\r\n                    </div>\r\n                    <button className=\"close-button\" onClick={onClose}>\r\n                        ×\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"modal-tabs\">\r\n                    <button\r\n                        className={`tab ${activeTab === 'view' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('view')}\r\n                    >\r\n                        Просмотр\r\n                    </button>\r\n                    {canEdit && (\r\n                        <button\r\n                            className={`tab ${activeTab === 'edit' ? 'active' : ''}`}\r\n                            onClick={() => setActiveTab('edit')}\r\n                        >\r\n                            Редактирование\r\n                        </button>\r\n                    )}\r\n                    {canEdit && (\r\n                        <button\r\n                            className={`tab ${activeTab === 'history' ? 'active' : ''}`}\r\n                            onClick={() => setActiveTab('history')}\r\n                        >\r\n                            История\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"modal-body\">\r\n                    {activeTab === 'view' && (\r\n                        <div className=\"view-content\">\r\n                            <div className=\"info-grid\">\r\n                                <div className=\"info-item\">\r\n                                    <label>ID:</label>\r\n                                    <span className=\"equipment-id\">{equipment.id}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Участок:</label>\r\n                                    <span style={{\r\n                                        background: 'rgba(79, 172, 254, 0.1)',\r\n                                        color: '#4facfe',\r\n                                        padding: '4px 8px',\r\n                                        borderRadius: '6px',\r\n                                        fontSize: '0.9rem',\r\n                                        fontWeight: '500'\r\n                                    }}>\r\n                                        {getSectionText(equipment.section)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Тип:</label>\r\n                                    <span>{getEquipmentTypeText(equipment.type)}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Модель:</label>\r\n                                    <span>{equipment.model}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Статус:</label>\r\n                                    <span className={`status-badge ${equipment.status}`}>\r\n                                        {getStatusText(equipment.status)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Фактическое время:</label>\r\n                                    <span>{equipment.actual_start || '-'} - {equipment.actual_end || '-'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Плановое время:</label>\r\n                                    <span>{equipment.planned_start} - {equipment.planned_end}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>Задержка:</label>\r\n                                    <span>{equipment.delay_hours > 0 ? `+${equipment.delay_hours}ч` : 'Нет'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item full-width\">\r\n                                    <label>Неисправность:</label>\r\n                                    <span>{equipment.malfunction || 'Не указана'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item full-width\">\r\n                                    <label>Механик:</label>\r\n                                    <span>{equipment.mechanic_name || 'Не назначен'}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'edit' && canEdit && (\r\n                        <form onSubmit={handleSubmit} className=\"edit-form\">\r\n                            <div className=\"form-grid\">\r\n                                <div className=\"form-group\">\r\n                                    <label>ID оборудования</label>\r\n                                    <div style={{ display: 'flex', gap: '10px' }}>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"id\"\r\n                                            value={formData.id}\r\n                                            onChange={handleChange}\r\n                                            disabled={loading}\r\n                                            placeholder=\"Например: EX001, LD002\"\r\n                                            style={{ flex: 1 }}\r\n                                        />\r\n                                        {formData.id !== originalId && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => setShowIdChangeConfirm(true)}\r\n                                                disabled={loading}\r\n                                                style={{\r\n                                                    background: '#ffc107',\r\n                                                    color: '#000',\r\n                                                    border: 'none',\r\n                                                    padding: '8px 12px',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '0.8rem'\r\n                                                }}\r\n                                            >\r\n                                                Изменить ID\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    {formData.id !== originalId && (\r\n                                        <small style={{ color: '#ffc107', fontSize: '0.8rem' }}>\r\n                                            ⚠️ ID будет изменен. Нажмите \"Изменить ID\" для подтверждения.\r\n                                        </small>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Участок</label>\r\n                                    <select\r\n                                        name=\"section\"\r\n                                        value={formData.section}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        {SECTIONS.map(section => (\r\n                                            <option key={section} value={section}>\r\n                                                {getSectionText(section)}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Тип</label>\r\n                                    <select\r\n                                        name=\"type\"\r\n                                        value={formData.type}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        <option value=\"excavator\">Экскаватор</option>\r\n                                        <option value=\"loader\">Погрузчик</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Модель</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"model\"\r\n                                        value={formData.model}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                        placeholder=\"Например: CAT 320D, Volvo L120H\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Статус</label>\r\n                                    <select\r\n                                        name=\"status\"\r\n                                        value={formData.status}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        <option value=\"Ready\">Ready</option>\r\n                                        <option value=\"Down\">Down</option>\r\n                                        <option value=\"Standby\">Standby</option>\r\n                                        <option value=\"Delay\">Delay</option>\r\n                                        <option value=\"Shiftchange\">Shiftchange</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Приоритет</label>\r\n                                    <select\r\n                                        name=\"priority\"\r\n                                        value={formData.priority}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        <option value=\"low\">Низкий</option>\r\n                                        <option value=\"normal\">Обычный</option>\r\n                                        <option value=\"medium\">Средний</option>\r\n                                        <option value=\"high\">Высокий</option>\r\n                                        <option value=\"critical\">Критический</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Плановое начало</label>\r\n                                    <input\r\n                                        type=\"time\"\r\n                                        name=\"planned_start\"\r\n                                        value={formData.planned_start}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Плановое окончание</label>\r\n                                    <input\r\n                                        type=\"time\"\r\n                                        name=\"planned_end\"\r\n                                        value={formData.planned_end}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Фактическое начало</label>\r\n                                    <input\r\n                                        type=\"time\"\r\n                                        name=\"actual_start\"\r\n                                        value={formData.actual_start}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Фактическое окончание</label>\r\n                                    <input\r\n                                        type=\"time\"\r\n                                        name=\"actual_end\"\r\n                                        value={formData.actual_end}\r\n                                        onChange={handleChange}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Задержка (часы)</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        name=\"delay_hours\"\r\n                                        value={formData.delay_hours}\r\n                                        onChange={handleChange}\r\n                                        min=\"0\"\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group full-width\">\r\n                                    <label>Неисправность</label>\r\n                                    <textarea\r\n                                        name=\"malfunction\"\r\n                                        value={formData.malfunction}\r\n                                        onChange={handleChange}\r\n                                        rows=\"3\"\r\n                                        placeholder=\"Описание неисправности...\"\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group full-width\">\r\n                                    <label>Механик</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"mechanic_name\"\r\n                                        value={formData.mechanic_name}\r\n                                        onChange={handleChange}\r\n                                        placeholder=\"ФИО механика\"\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"cancel-button\"\r\n                                    onClick={onClose}\r\n                                    disabled={loading}\r\n                                >\r\n                                    Отмена\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"save-button\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Сохранение...' : 'Сохранить'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n\r\n                    {/* ✅ ИСПРАВЛЕННАЯ вкладка истории с защитой от ошибок */}\r\n                    {activeTab === 'history' && canEdit && (\r\n                        <div className=\"history-content\">\r\n                            {historyLoading ? (\r\n                                <div style={{\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    padding: '40px',\r\n                                    color: 'rgba(255, 255, 255, 0.7)'\r\n                                }}>\r\n                                    <div style={{\r\n                                        width: '40px',\r\n                                        height: '40px',\r\n                                        border: '4px solid rgba(79, 172, 254, 0.2)',\r\n                                        borderTop: '4px solid #4facfe',\r\n                                        borderRadius: '50%',\r\n                                        animation: 'spin 1s linear infinite',\r\n                                        marginBottom: '15px'\r\n                                    }}></div>\r\n                                    <p>Загрузка истории изменений...</p>\r\n                                </div>\r\n                            ) : !history || history.length === 0 ? (\r\n                                <p className=\"no-history\" style={{\r\n                                    textAlign: 'center',\r\n                                    padding: '40px',\r\n                                    color: 'rgba(255, 255, 255, 0.6)'\r\n                                }}>\r\n                                    {!history ? 'История недоступна' : 'История изменений пуста'}\r\n                                </p>\r\n                            ) : (\r\n                                <div className=\"history-list\">\r\n                                    {history.map((item) => (\r\n                                        <div key={item.id} className=\"history-item\">\r\n                                            <div className=\"history-header\">\r\n                                                <span className=\"history-action\">\r\n                                                    {getActionText(item.action)}\r\n                                                </span>\r\n                                                <span className=\"history-time\">\r\n                                                    {formatDateTime(item.timestamp)}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"history-user\">\r\n                                                Пользователь: {item.full_name || item.username}\r\n                                            </div>\r\n                                            {item.old_value && item.new_value && (\r\n                                                <div className=\"history-changes\">\r\n                                                    <span className=\"old-value\">\"{item.old_value}\"</span>\r\n                                                    <span className=\"arrow\">→</span>\r\n                                                    <span className=\"new-value\">\"{item.new_value}\"</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Модальное окно подтверждения изменения ID */}\r\n                {showIdChangeConfirm && (\r\n                    <div className=\"modal-backdrop\" onClick={(e) => {\r\n                        if (e.target === e.currentTarget) setShowIdChangeConfirm(false);\r\n                    }}>\r\n                        <div className=\"modal-content\" style={{ maxWidth: '500px' }}>\r\n                            <div className=\"modal-header\">\r\n                                <h3>Изменение ID оборудования</h3>\r\n                                <button\r\n                                    className=\"close-button\"\r\n                                    onClick={() => setShowIdChangeConfirm(false)}\r\n                                >\r\n                                    ×\r\n                                </button>\r\n                            </div>\r\n                            <div style={{ padding: '20px' }}>\r\n                                <p>Вы уверены, что хотите изменить ID оборудования?</p>\r\n                                <div style={{\r\n                                    background: 'rgba(255, 193, 7, 0.1)',\r\n                                    padding: '15px',\r\n                                    borderRadius: '8px',\r\n                                    margin: '15px 0'\r\n                                }}>\r\n                                    <strong>Старый ID:</strong> {originalId}<br />\r\n                                    <strong>Новый ID:</strong> {formData.id}<br />\r\n                                    <strong>Участок:</strong> {getSectionText(formData.section)}\r\n                                </div>\r\n                                <p style={{ fontSize: '0.9rem', color: 'rgba(255,255,255,0.7)' }}>\r\n                                    ⚠️ Это действие изменит ID оборудования во всей системе и истории.\r\n                                </p>\r\n                                <div style={{\r\n                                    display: 'flex',\r\n                                    gap: '10px',\r\n                                    justifyContent: 'flex-end',\r\n                                    marginTop: '20px'\r\n                                }}>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"cancel-button\"\r\n                                        onClick={() => {\r\n                                            setFormData(prev => ({ ...prev, id: originalId }));\r\n                                            setShowIdChangeConfirm(false);\r\n                                        }}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        Отмена\r\n                                    </button>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={handleIdChange}\r\n                                        disabled={loading}\r\n                                        style={{\r\n                                            background: '#ffc107',\r\n                                            color: '#000',\r\n                                            border: 'none',\r\n                                            padding: '10px 20px',\r\n                                            borderRadius: '6px',\r\n                                            cursor: 'pointer',\r\n                                            fontWeight: '600'\r\n                                        }}\r\n                                    >\r\n                                        {loading ? 'Изменение...' : 'Подтвердить изменение ID'}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* ✅ Стили для анимации загрузки */}\r\n                <style jsx>{`\r\n                    @keyframes spin {\r\n                        0% { transform: rotate(0deg); }\r\n                        100% { transform: rotate(360deg); }\r\n                    }\r\n                `}</style>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EquipmentTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}