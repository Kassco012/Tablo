{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kassymzhan.nuraliyev\\\\OneDrive - KAZ Minerals Management LLP\\\\Desktop\\\\Tablo_21_10\\\\Tablo\\\\frontend\\\\src\\\\components\\\\EquipmentTable.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/EquipmentTable.js - ROLE-BASED EDITING\n\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../services/api';\nimport './EquipmentTable.css';\nimport { getEquipmentTypeText, getEquipmentTypeOptions } from '../components/EquipmentTypes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EquipmentTable = ({\n  equipment,\n  isOpen,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    id: '',\n    type: '',\n    model: '',\n    status: '',\n    planned_hours: 0,\n    malfunction: '',\n    mechanic_name: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [historyLoading, setHistoryLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState('edit');\n  const [showIdChangeConfirm, setShowIdChangeConfirm] = useState(false);\n  const [originalId, setOriginalId] = useState('');\n\n  // ‚úÖ –û–ü–†–ï–î–ï–õ–Ø–ï–ú –ü–†–ê–í–ê –î–û–°–¢–£–ü–ê\n  const canEditAllFields = user && (user.role === 'admin' || user.role === 'programmer');\n  const canEditLimitedFields = user && user.role === 'dispatcher';\n  const canViewHistory = user && (user.role === 'admin' || user.role === 'dispatcher' || user.role === 'programmer');\n  useEffect(() => {\n    if (equipment) {\n      const equipmentData = {\n        id: equipment.id || '',\n        type: equipment.type || '',\n        model: equipment.model || '',\n        status: equipment.status || '',\n        planned_hours: equipment.planned_hours || 0,\n        malfunction: equipment.malfunction || '',\n        mechanic_name: equipment.mechanic_name || ''\n      };\n      setFormData(equipmentData);\n      setOriginalId(equipment.id);\n      if (canViewHistory) {\n        loadHistory();\n      }\n    }\n  }, [equipment, user]);\n  const loadHistory = async () => {\n    setHistoryLoading(true);\n    try {\n      const response = await api.get(`/equipment/${equipment.id}/history`);\n      if (response.data && Array.isArray(response.data)) {\n        setHistory(response.data);\n      } else {\n        console.warn('‚ö†Ô∏è –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—à–ª–∞ –Ω–µ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞:', response.data);\n        setHistory([]);\n      }\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('‚ùå Error loading history:', error);\n      setHistory([]);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 404) {\n        toast.info('–ò—Å—Ç–æ—Ä–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞');\n      } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 500) {\n        toast.error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏—Å—Ç–æ—Ä–∏–∏');\n      } else {\n        toast.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π');\n      }\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n  const handleIdChange = async () => {\n    if (!canEditAllFields) {\n      toast.error('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è ID');\n      return;\n    }\n    if (!formData.id || formData.id.trim() === '') {\n      toast.error('ID –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º');\n      return;\n    }\n    if (formData.id === originalId) {\n      toast.info('ID –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è');\n      return;\n    }\n    try {\n      setLoading(true);\n      await api.put(`/equipment/${originalId}/change-id`, {\n        newId: formData.id.trim()\n      });\n      toast.success('ID –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');\n      setOriginalId(formData.id);\n      setShowIdChangeConfirm(false);\n      onSave();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error changing ID:', error);\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || '–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è ID');\n      setFormData(prev => ({\n        ...prev,\n        id: originalId\n      }));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏\n  const handlePlannedHoursChange = e => {\n    const value = e.target.value.trim();\n    if (value === '' || /^[\\d.,]+$/.test(value)) {\n      const normalizedValue = value.replace(',', '.');\n      const numValue = parseFloat(normalizedValue);\n      if (!isNaN(numValue) && numValue >= 0 && numValue <= 1000) {\n        setFormData(prev => ({\n          ...prev,\n          planned_hours: numValue\n        }));\n      } else if (value === '') {\n        setFormData(prev => ({\n          ...prev,\n          planned_hours: 0\n        }));\n      } else {\n        if (!isNaN(numValue)) {\n          toast.warning('–ü–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 0 –¥–æ 1000 —á–∞—Å–æ–≤');\n        }\n      }\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!canEditAllFields && !canEditLimitedFields) {\n      toast.error('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');\n      return;\n    }\n\n    // ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏\n    const plannedHours = parseFloat(formData.planned_hours);\n    if (isNaN(plannedHours) || plannedHours < 0 || plannedHours > 1000) {\n      toast.error('–ü–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 1000 —á–∞—Å–æ–≤');\n      return;\n    }\n\n    // ‚úÖ –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω ID –∏ —ç—Ç–æ –∞–¥–º–∏–Ω\n    if (formData.id !== originalId && canEditAllFields) {\n      setShowIdChangeConfirm(true);\n      return;\n    }\n    await saveEquipmentData();\n  };\n  const saveEquipmentData = async () => {\n    setLoading(true);\n    try {\n      const currentId = formData.id || originalId;\n\n      // ‚úÖ –î–ò–°–ü–ï–¢–ß–ï–† - –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ 2 –ø–æ–ª—è\n      let updateData;\n      if (canEditLimitedFields && !canEditAllFields) {\n        updateData = {\n          planned_hours: formData.planned_hours,\n          mechanic_name: formData.mechanic_name,\n          malfunction: formData.malfunction // ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞\n        };\n        console.log('üìù –î–∏—Å–ø–µ—Ç—á–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç planned_hours, mechanic_name –∏ malfunction');\n      }\n      // ‚úÖ –ê–î–ú–ò–ù - –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –≤—Å—ë\n      else if (canEditAllFields) {\n        updateData = {\n          type: formData.type,\n          model: formData.model,\n          status: formData.status,\n          planned_hours: formData.planned_hours,\n          malfunction: formData.malfunction,\n          mechanic_name: formData.mechanic_name\n        };\n        console.log('üîß –ê–¥–º–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –ø–æ–ª—è');\n      }\n      await api.put(`/equipment/${currentId}`, updateData);\n      toast.success('–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!');\n      onSave();\n      onClose();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error updating equipment:', error);\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseFloat(value) || 0 : value\n    }));\n  };\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const getStatusText = status => {\n    const statusMap = {\n      'Down': '–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç',\n      'Ready': '–ì–æ—Ç–æ–≤–∞',\n      'Standby': '–û–∂–∏–¥–∞–Ω–∏–µ',\n      'Delay': '–ó–∞–¥–µ—Ä–∂–∫–∞',\n      'Shiftchange': '–°–º–µ–Ω–∞'\n    };\n    return statusMap[status] || status;\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleString('ru-RU');\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return dateString;\n    }\n  };\n  const getActionText = action => {\n    const actionMap = {\n      'create': '–°–æ–∑–¥–∞–Ω–∏–µ',\n      'update_status': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞',\n      'update_progress': '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞',\n      'update_mechanic_name': '–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∞',\n      'update_type': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞',\n      'update_model': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏',\n      'update_planned_hours': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏',\n      'change_id': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ ID',\n      'delete': '–£–¥–∞–ª–µ–Ω–∏–µ'\n    };\n    return actionMap[action] || action;\n  };\n  const getHoursText = hours => {\n    if (hours === 1) return '—á–∞—Å';\n    if (hours >= 2 && hours <= 4) return '—á–∞—Å–∞';\n    return '—á–∞—Å–æ–≤';\n  };\n\n  // ‚úÖ –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ø—Ä–æ–≤–µ—Ä–∫–∞, –º–æ–∂–Ω–æ –ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ\n  const canEditField = fieldName => {\n    if (canEditAllFields) return true; // –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—Å—ë\n\n    // –î–∏—Å–ø–µ—Ç—á–µ—Ä –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–∏ 2 –ø–æ–ª—è\n    if (canEditLimitedFields) {\n      return fieldName === 'planned_hours' || fieldName === 'mechanic_name';\n    }\n    return false;\n  };\n  if (!isOpen || !equipment) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content equipment-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \", originalId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"equipment-subtitle\",\n            children: [getEquipmentTypeText(equipment.type), \" \", equipment.model]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${activeTab === 'view' ? 'active' : ''}`,\n          onClick: () => setActiveTab('view'),\n          children: \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), (canEditAllFields || canEditLimitedFields) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${activeTab === 'edit' ? 'active' : ''}`,\n          onClick: () => setActiveTab('edit'),\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }, this), canViewHistory && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${activeTab === 'history' ? 'active' : ''}`,\n          onClick: () => setActiveTab('history'),\n          children: \"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [activeTab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"equipment-id\",\n                children: equipment.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0422\\u0438\\u043F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: getEquipmentTypeText(equipment.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.model\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${equipment.status}`,\n                children: getStatusText(equipment.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: equipment.planned_hours > 0 ? '#ffffff' : 'rgba(255, 255, 255, 0.4)',\n                  fontStyle: equipment.planned_hours > 0 ? 'normal' : 'italic'\n                },\n                children: equipment.planned_hours > 0 ? `${equipment.planned_hours} ${getHoursText(equipment.planned_hours)}` : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041D\\u0435\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.malfunction || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: equipment.mechanic_name || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 25\n        }, this), activeTab === 'edit' && (canEditAllFields || canEditLimitedFields) && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"edit-form\",\n          children: [canEditLimitedFields && !canEditAllFields && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'rgba(79, 172, 254, 0.1)',\n              border: '1px solid rgba(79, 172, 254, 0.3)',\n              borderRadius: '8px',\n              padding: '15px',\n              marginBottom: '20px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"#4facfe\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1,\n                fontSize: '0.9rem',\n                color: '#4facfe'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0420\\u0435\\u0436\\u0438\\u043C \\u0434\\u0438\\u0441\\u043F\\u0435\\u0442\\u0447\\u0435\\u0440\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 41\n              }, this), \" \\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u043F\\u043B\\u0430\\u043D\\u043E\\u0432\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F \\u0438 \\u043C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A\\u0430. \\u041E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0441\\u0438\\u043D\\u0445\\u0440\\u043E\\u043D\\u0438\\u0437\\u0438\\u0440\\u0443\\u044E\\u0442\\u0441\\u044F \\u0438\\u0437 JMineOps.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\", !canEditField('id') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(255, 193, 7, 0.8)'\n                  },\n                  children: \"\\uD83D\\uDD12 \\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0434\\u043B\\u044F \\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"id\",\n                  value: formData.id,\n                  onChange: handleChange,\n                  disabled: !canEditField('id') || loading,\n                  placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: EX001, LD002\",\n                  style: {\n                    flex: 1,\n                    background: !canEditField('id') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                    cursor: !canEditField('id') ? 'not-allowed' : 'text',\n                    opacity: !canEditField('id') ? 0.6 : 1\n                  },\n                  title: !canEditField('id') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 41\n                }, this), canEditField('id') && formData.id !== originalId && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowIdChangeConfirm(true),\n                  disabled: loading,\n                  style: {\n                    background: '#ffc107',\n                    color: '#000',\n                    border: 'none',\n                    padding: '8px 12px',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '0.8rem'\n                  },\n                  children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 37\n              }, this), canEditField('id') && formData.id !== originalId && /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#ffc107',\n                  fontSize: '0.8rem'\n                },\n                children: \"\\u26A0\\uFE0F ID \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D. \\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C ID\\\" \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"\\u0422\\u0438\\u043F\", !canEditField('type') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(255, 193, 7, 0.8)'\n                  },\n                  children: \"\\uD83D\\uDD12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"type\",\n                value: formData.type,\n                onChange: handleChange,\n                disabled: !canEditField('type') || loading,\n                style: {\n                  background: !canEditField('type') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                  cursor: !canEditField('type') ? 'not-allowed' : 'pointer',\n                  opacity: !canEditField('type') ? 0.6 : 1\n                },\n                title: !canEditField('type') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"shovel\",\n                  children: \"\\u042D\\u043A\\u0441\\u043A\\u0430\\u0432\\u0430\\u0442\\u043E\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"loader\",\n                  children: \"\\u041F\\u043E\\u0433\\u0440\\u0443\\u0437\\u0447\\u0438\\u043A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"watertruck\",\n                  children: \"\\u0412\\u043E\\u0434\\u043E\\u0432\\u043E\\u0437\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"dozer\",\n                  children: \"\\u0411\\u0443\\u043B\\u044C\\u0434\\u043E\\u0437\\u0435\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"drill\",\n                  children: \"\\u0411\\u0443\\u0440\\u043E\\u0432\\u043E\\u0439 \\u0441\\u0442\\u0430\\u043D\\u043E\\u043A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"grader\",\n                  children: \"\\u0410\\u0432\\u0442\\u043E\\u0433\\u0440\\u0435\\u0439\\u0434\\u0435\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"truck\",\n                  children: \"\\u0421\\u0430\\u043C\\u043E\\u0441\\u0432\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"auxequipment\",\n                  children: \"\\u0412\\u0441\\u043F\\u043E\\u043C\\u043E\\u0433\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\", !canEditField('model') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(255, 193, 7, 0.8)'\n                  },\n                  children: \"\\uD83D\\uDD12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"model\",\n                value: formData.model,\n                onChange: handleChange,\n                disabled: !canEditField('model') || loading,\n                placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: CAT 320D, Volvo L120H\",\n                style: {\n                  background: !canEditField('model') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                  cursor: !canEditField('model') ? 'not-allowed' : 'text',\n                  opacity: !canEditField('model') ? 0.6 : 1\n                },\n                title: !canEditField('model') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\", !canEditField('status') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(255, 193, 7, 0.8)'\n                  },\n                  children: \"\\uD83D\\uDD12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"status\",\n                value: formData.status,\n                onChange: handleChange,\n                disabled: !canEditField('status') || loading,\n                style: {\n                  background: !canEditField('status') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                  cursor: !canEditField('status') ? 'not-allowed' : 'pointer',\n                  opacity: !canEditField('status') ? 0.6 : 1\n                },\n                title: !canEditField('status') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Ready\",\n                  children: \"Ready\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Down\",\n                  children: \"Down\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Standby\",\n                  children: \"Standby\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Delay\",\n                  children: \"Delay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Shiftchange\",\n                  children: \"Shiftchange\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F (\\u0447\\u0430\\u0441\\u044B)\", canEditField('planned_hours') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(40, 167, 69, 0.8)'\n                  },\n                  children: \"\\u270F\\uFE0F \\u041C\\u043E\\u0436\\u043D\\u043E \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '8px',\n                  marginBottom: '10px',\n                  flexWrap: 'wrap'\n                },\n                children: [1, 2, 4, 6, 8, 12, 24, 48].map(hours => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setFormData(prev => ({\n                    ...prev,\n                    planned_hours: hours\n                  })),\n                  disabled: !canEditField('planned_hours') || loading,\n                  style: {\n                    background: formData.planned_hours === hours ? 'rgba(79, 172, 254, 0.3)' : 'rgba(255, 255, 255, 0.1)',\n                    border: `1px solid ${formData.planned_hours === hours ? '#4facfe' : 'rgba(255, 255, 255, 0.2)'}`,\n                    color: '#ffffff',\n                    padding: '6px 12px',\n                    borderRadius: '6px',\n                    cursor: !canEditField('planned_hours') || loading ? 'not-allowed' : 'pointer',\n                    fontSize: '0.85rem',\n                    transition: 'all 0.2s ease',\n                    fontWeight: formData.planned_hours === hours ? '600' : '400',\n                    opacity: !canEditField('planned_hours') || loading ? 0.5 : 1\n                  },\n                  children: [hours, \"\\u0447\"]\n                }, hours, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"planned_hours\",\n                value: formData.planned_hours || '',\n                onChange: handlePlannedHoursChange,\n                disabled: !canEditField('planned_hours') || loading,\n                placeholder: \"\\u0418\\u043B\\u0438 \\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0440\\u0443\\u0447\\u043D\\u0443\\u044E: 1.5, 6.5, 8...\",\n                style: {\n                  fontFamily: 'monospace',\n                  fontSize: '1rem',\n                  background: !canEditField('planned_hours') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                  cursor: !canEditField('planned_hours') ? 'not-allowed' : 'text',\n                  opacity: !canEditField('planned_hours') ? 0.6 : 1,\n                  border: canEditField('planned_hours') ? '2px solid rgba(40, 167, 69, 0.3)' : undefined\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"\\u041D\\u0435\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C\", !canEditField('malfunction') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(255, 193, 7, 0.8)'\n                  },\n                  children: \"\\uD83D\\uDD12 \\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0434\\u043B\\u044F \\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"malfunction\",\n                value: formData.malfunction,\n                onChange: handleChange,\n                rows: \"3\",\n                placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0435\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043D\\u043E\\u0441\\u0442\\u0438...\",\n                disabled: !canEditField('malfunction') || loading,\n                style: {\n                  background: !canEditField('malfunction') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                  cursor: !canEditField('malfunction') ? 'not-allowed' : 'text',\n                  opacity: !canEditField('malfunction') ? 0.6 : 1\n                },\n                title: !canEditField('malfunction') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"\\u041C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A\", canEditField('mechanic_name') && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '0.85rem',\n                    color: 'rgba(40, 167, 69, 0.8)'\n                  },\n                  children: \"\\u270F\\uFE0F \\u041C\\u043E\\u0436\\u043D\\u043E \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"mechanic_name\",\n                value: formData.mechanic_name,\n                onChange: handleChange,\n                placeholder: \"\\u0424\\u0418\\u041E \\u043C\\u0435\\u0445\\u0430\\u043D\\u0438\\u043A\\u0430\",\n                disabled: !canEditField('mechanic_name') || loading,\n                style: {\n                  background: !canEditField('mechanic_name') ? 'rgba(255, 255, 255, 0.05)' : undefined,\n                  cursor: !canEditField('mechanic_name') ? 'not-allowed' : 'text',\n                  opacity: !canEditField('mechanic_name') ? 0.6 : 1,\n                  border: canEditField('mechanic_name') ? '2px solid rgba(40, 167, 69, 0.3)' : undefined\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-button\",\n              onClick: onClose,\n              disabled: loading,\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"save-button\",\n              disabled: loading,\n              children: loading ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 25\n        }, this), activeTab === 'history' && canViewHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-content\",\n          children: historyLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '40px',\n              color: 'rgba(255, 255, 255, 0.7)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '80px',\n                height: '80px',\n                border: '4px solid rgba(79, 172, 254, 0.2)',\n                borderTop: '4px solid #4facfe',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite',\n                marginBottom: '15px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0439...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 33\n          }, this) : !history || history.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"no-history\",\n            style: {\n              textAlign: 'center',\n              padding: '40px',\n              color: 'rgba(255, 255, 255, 0.6)'\n            },\n            children: !history ? '–ò—Å—Ç–æ—Ä–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞' : '–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—É—Å—Ç–∞'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-list\",\n            children: history.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"history-action\",\n                  children: getActionText(item.action)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 745,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"history-time\",\n                  children: formatDateTime(item.timestamp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-user\",\n                children: [\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C: \", item.full_name || item.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 45\n              }, this), item.old_value && item.new_value && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-changes\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"old-value\",\n                  children: [\"\\\"\", item.old_value, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"arrow\",\n                  children: \"\\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"new-value\",\n                  children: [\"\\\"\", item.new_value, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 49\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }, this), showIdChangeConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-backdrop\",\n        onClick: e => {\n          if (e.target === e.currentTarget) setShowIdChangeConfirm(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          style: {\n            maxWidth: '500px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-button\",\n              onClick: () => setShowIdChangeConfirm(false),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'rgba(255, 193, 7, 0.1)',\n                padding: '15px',\n                borderRadius: '8px',\n                margin: '15px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0421\\u0442\\u0430\\u0440\\u044B\\u0439 ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 37\n              }, this), \" \", originalId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 77\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 37\n              }, this), \" \", formData.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: 'rgba(255,255,255,0.7)'\n              },\n              children: \"\\u26A0\\uFE0F \\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442 ID \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0432\\u043E \\u0432\\u0441\\u0435\\u0439 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0435 \\u0438 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                justifyContent: 'flex-end',\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"cancel-button\",\n                onClick: () => {\n                  setFormData(prev => ({\n                    ...prev,\n                    id: originalId\n                  }));\n                  setShowIdChangeConfirm(false);\n                },\n                disabled: loading,\n                children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleIdChange,\n                disabled: loading,\n                style: {\n                  background: '#ffc107',\n                  color: '#000',\n                  border: 'none',\n                  padding: '10px 20px',\n                  borderRadius: '6px',\n                  cursor: 'pointer',\n                  fontWeight: '600'\n                },\n                children: loading ? '–ò–∑–º–µ–Ω–µ–Ω–∏–µ...' : '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ ID'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        jsx: true,\n        children: `\n                    @keyframes spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n                `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 9\n  }, this);\n};\n_s(EquipmentTable, \"XH9AiYSU1xiBPtkTQX57vwMSmq4=\", false, function () {\n  return [useAuth];\n});\n_c = EquipmentTable;\nexport default EquipmentTable;\nvar _c;\n$RefreshReg$(_c, \"EquipmentTable\");","map":{"version":3,"names":["React","useState","useEffect","toast","useAuth","api","getEquipmentTypeText","getEquipmentTypeOptions","jsxDEV","_jsxDEV","EquipmentTable","equipment","isOpen","onClose","onSave","_s","user","formData","setFormData","id","type","model","status","planned_hours","malfunction","mechanic_name","loading","setLoading","history","setHistory","historyLoading","setHistoryLoading","activeTab","setActiveTab","showIdChangeConfirm","setShowIdChangeConfirm","originalId","setOriginalId","canEditAllFields","role","canEditLimitedFields","canViewHistory","equipmentData","loadHistory","response","get","data","Array","isArray","console","warn","error","_error$response","_error$response2","info","handleIdChange","trim","put","newId","success","_error$response3","_error$response3$data","message","prev","handlePlannedHoursChange","e","value","target","test","normalizedValue","replace","numValue","parseFloat","isNaN","warning","handleSubmit","preventDefault","plannedHours","saveEquipmentData","currentId","updateData","log","_error$response4","_error$response4$data","handleChange","name","handleBackdropClick","currentTarget","getStatusText","statusMap","formatDateTime","dateString","Date","toLocaleString","getActionText","action","actionMap","getHoursText","hours","canEditField","fieldName","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","fontStyle","onSubmit","background","border","borderRadius","padding","marginBottom","display","alignItems","gap","width","height","viewBox","fill","d","flex","fontSize","marginLeft","onChange","disabled","placeholder","undefined","cursor","opacity","title","flexWrap","map","transition","fontWeight","fontFamily","rows","flexDirection","justifyContent","borderTop","animation","length","textAlign","item","timestamp","full_name","username","old_value","new_value","maxWidth","margin","marginTop","jsx","_c","$RefreshReg$"],"sources":["C:/Users/kassymzhan.nuraliyev/OneDrive - KAZ Minerals Management LLP/Desktop/Tablo_21_10/Tablo/frontend/src/components/EquipmentTable.js"],"sourcesContent":["// frontend/src/components/EquipmentTable.js - ROLE-BASED EDITING\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport api from '../services/api';\r\nimport './EquipmentTable.css';\r\nimport {\r\n    getEquipmentTypeText,\r\n    getEquipmentTypeOptions\r\n} from '../components/EquipmentTypes';\r\n\r\nconst EquipmentTable = ({ equipment, isOpen, onClose, onSave }) => {\r\n    const { user } = useAuth();\r\n    const [formData, setFormData] = useState({\r\n        id: '',\r\n        type: '',\r\n        model: '',\r\n        status: '',\r\n        planned_hours: 0,\r\n        malfunction: '',\r\n        mechanic_name: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [history, setHistory] = useState([]);\r\n    const [historyLoading, setHistoryLoading] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('edit');\r\n    const [showIdChangeConfirm, setShowIdChangeConfirm] = useState(false);\r\n    const [originalId, setOriginalId] = useState('');\r\n\r\n    // ‚úÖ –û–ü–†–ï–î–ï–õ–Ø–ï–ú –ü–†–ê–í–ê –î–û–°–¢–£–ü–ê\r\n    const canEditAllFields = user && (user.role === 'admin' || user.role === 'programmer');\r\n    const canEditLimitedFields = user && user.role === 'dispatcher';\r\n    const canViewHistory = user && (user.role === 'admin' || user.role === 'dispatcher' || user.role === 'programmer');\r\n\r\n    useEffect(() => {\r\n        if (equipment) {\r\n            const equipmentData = {\r\n                id: equipment.id || '',\r\n                type: equipment.type || '',\r\n                model: equipment.model || '',\r\n                status: equipment.status || '',\r\n                planned_hours: equipment.planned_hours || 0,\r\n                malfunction: equipment.malfunction || '',\r\n                mechanic_name: equipment.mechanic_name || ''\r\n            };\r\n\r\n            setFormData(equipmentData);\r\n            setOriginalId(equipment.id);\r\n\r\n            if (canViewHistory) {\r\n                loadHistory();\r\n            }\r\n        }\r\n    }, [equipment, user]);\r\n\r\n    const loadHistory = async () => {\r\n        setHistoryLoading(true);\r\n\r\n        try {\r\n            const response = await api.get(`/equipment/${equipment.id}/history`);\r\n\r\n            if (response.data && Array.isArray(response.data)) {\r\n                setHistory(response.data);\r\n            } else {\r\n                console.warn('‚ö†Ô∏è –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—à–ª–∞ –Ω–µ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞:', response.data);\r\n                setHistory([]);\r\n            }\r\n        } catch (error) {\r\n            console.error('‚ùå Error loading history:', error);\r\n            setHistory([]);\r\n\r\n            if (error.response?.status === 404) {\r\n                toast.info('–ò—Å—Ç–æ—Ä–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞');\r\n            } else if (error.response?.status === 500) {\r\n                toast.error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏—Å—Ç–æ—Ä–∏–∏');\r\n            } else {\r\n                toast.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π');\r\n            }\r\n        } finally {\r\n            setHistoryLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleIdChange = async () => {\r\n        if (!canEditAllFields) {\r\n            toast.error('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è ID');\r\n            return;\r\n        }\r\n\r\n        if (!formData.id || formData.id.trim() === '') {\r\n            toast.error('ID –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º');\r\n            return;\r\n        }\r\n\r\n        if (formData.id === originalId) {\r\n            toast.info('ID –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            await api.put(`/equipment/${originalId}/change-id`, {\r\n                newId: formData.id.trim()\r\n            });\r\n\r\n            toast.success('ID –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');\r\n            setOriginalId(formData.id);\r\n            setShowIdChangeConfirm(false);\r\n            onSave();\r\n        } catch (error) {\r\n            console.error('Error changing ID:', error);\r\n            toast.error(error.response?.data?.message || '–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è ID');\r\n            setFormData(prev => ({ ...prev, id: originalId }));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏\r\n    const handlePlannedHoursChange = (e) => {\r\n        const value = e.target.value.trim();\r\n\r\n        if (value === '' || /^[\\d.,]+$/.test(value)) {\r\n            const normalizedValue = value.replace(',', '.');\r\n            const numValue = parseFloat(normalizedValue);\r\n\r\n            if (!isNaN(numValue) && numValue >= 0 && numValue <= 1000) {\r\n                setFormData(prev => ({\r\n                    ...prev,\r\n                    planned_hours: numValue\r\n                }));\r\n            } else if (value === '') {\r\n                setFormData(prev => ({\r\n                    ...prev,\r\n                    planned_hours: 0\r\n                }));\r\n            } else {\r\n                if (!isNaN(numValue)) {\r\n                    toast.warning('–ü–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 0 –¥–æ 1000 —á–∞—Å–æ–≤');\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!canEditAllFields && !canEditLimitedFields) {\r\n            toast.error('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');\r\n            return;\r\n        }\r\n\r\n        // ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏\r\n        const plannedHours = parseFloat(formData.planned_hours);\r\n\r\n        if (isNaN(plannedHours) || plannedHours < 0 || plannedHours > 1000) {\r\n            toast.error('–ü–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 1000 —á–∞—Å–æ–≤');\r\n            return;\r\n        }\r\n\r\n        // ‚úÖ –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω ID –∏ —ç—Ç–æ –∞–¥–º–∏–Ω\r\n        if (formData.id !== originalId && canEditAllFields) {\r\n            setShowIdChangeConfirm(true);\r\n            return;\r\n        }\r\n\r\n        await saveEquipmentData();\r\n    };\r\n\r\n    const saveEquipmentData = async () => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            const currentId = formData.id || originalId;\r\n\r\n            // ‚úÖ –î–ò–°–ü–ï–¢–ß–ï–† - –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ 2 –ø–æ–ª—è\r\n            let updateData;\r\n\r\n            if (canEditLimitedFields && !canEditAllFields) {\r\n                updateData = {\r\n                    planned_hours: formData.planned_hours,\r\n                    mechanic_name: formData.mechanic_name,\r\n                    malfunction: formData.malfunction // ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞\r\n                };\r\n                console.log('üìù –î–∏—Å–ø–µ—Ç—á–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç planned_hours, mechanic_name –∏ malfunction');\r\n            }\r\n            // ‚úÖ –ê–î–ú–ò–ù - –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –≤—Å—ë\r\n            else if (canEditAllFields) {\r\n                updateData = {\r\n                    type: formData.type,\r\n                    model: formData.model,\r\n                    status: formData.status,\r\n                    planned_hours: formData.planned_hours,\r\n                    malfunction: formData.malfunction,\r\n                    mechanic_name: formData.mechanic_name\r\n                };\r\n                console.log('üîß –ê–¥–º–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –ø–æ–ª—è');\r\n            }\r\n\r\n            await api.put(`/equipment/${currentId}`, updateData);\r\n            toast.success('–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!');\r\n            onSave();\r\n            onClose();\r\n        } catch (error) {\r\n            console.error('Error updating equipment:', error);\r\n            toast.error(error.response?.data?.message || '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: type === 'number' ? parseFloat(value) || 0 : value\r\n        }));\r\n    };\r\n\r\n    const handleBackdropClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const getStatusText = (status) => {\r\n        const statusMap = {\r\n            'Down': '–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç',\r\n            'Ready': '–ì–æ—Ç–æ–≤–∞',\r\n            'Standby': '–û–∂–∏–¥–∞–Ω–∏–µ',\r\n            'Delay': '–ó–∞–¥–µ—Ä–∂–∫–∞',\r\n            'Shiftchange': '–°–º–µ–Ω–∞'\r\n        };\r\n        return statusMap[status] || status;\r\n    };\r\n\r\n    const formatDateTime = (dateString) => {\r\n        if (!dateString) return '-';\r\n        try {\r\n            return new Date(dateString).toLocaleString('ru-RU');\r\n        } catch (error) {\r\n            console.error('Error formatting date:', error);\r\n            return dateString;\r\n        }\r\n    };\r\n\r\n    const getActionText = (action) => {\r\n        const actionMap = {\r\n            'create': '–°–æ–∑–¥–∞–Ω–∏–µ',\r\n            'update_status': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞',\r\n            'update_progress': '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞',\r\n            'update_mechanic_name': '–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∞',\r\n            'update_type': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞',\r\n            'update_model': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏',\r\n            'update_planned_hours': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏',\r\n            'change_id': '–ò–∑–º–µ–Ω–µ–Ω–∏–µ ID',\r\n            'delete': '–£–¥–∞–ª–µ–Ω–∏–µ'\r\n        };\r\n        return actionMap[action] || action;\r\n    };\r\n\r\n    const getHoursText = (hours) => {\r\n        if (hours === 1) return '—á–∞—Å';\r\n        if (hours >= 2 && hours <= 4) return '—á–∞—Å–∞';\r\n        return '—á–∞—Å–æ–≤';\r\n    };\r\n\r\n    // ‚úÖ –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ø—Ä–æ–≤–µ—Ä–∫–∞, –º–æ–∂–Ω–æ –ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ\r\n    const canEditField = (fieldName) => {\r\n        if (canEditAllFields) return true; // –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—Å—ë\r\n\r\n        // –î–∏—Å–ø–µ—Ç—á–µ—Ä –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–∏ 2 –ø–æ–ª—è\r\n        if (canEditLimitedFields) {\r\n            return fieldName === 'planned_hours' || fieldName === 'mechanic_name';\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    if (!isOpen || !equipment) return null;\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\" onClick={handleBackdropClick}>\r\n            <div className=\"modal-content equipment-modal\">\r\n                <div className=\"modal-header\">\r\n                    <div>\r\n                        <h2>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ {originalId}</h2>\r\n                        <p className=\"equipment-subtitle\">\r\n                            {getEquipmentTypeText(equipment.type)} {equipment.model}\r\n                        </p>\r\n                    </div>\r\n                    <button className=\"close-button\" onClick={onClose}>\r\n                        √ó\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"modal-tabs\">\r\n                    <button\r\n                        className={`tab ${activeTab === 'view' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('view')}\r\n                    >\r\n                        –ü—Ä–æ—Å–º–æ—Ç—Ä\r\n                    </button>\r\n                    {(canEditAllFields || canEditLimitedFields) && (\r\n                        <button\r\n                            className={`tab ${activeTab === 'edit' ? 'active' : ''}`}\r\n                            onClick={() => setActiveTab('edit')}\r\n                        >\r\n                            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\r\n                        </button>\r\n                    )}\r\n                    {canViewHistory && (\r\n                        <button\r\n                            className={`tab ${activeTab === 'history' ? 'active' : ''}`}\r\n                            onClick={() => setActiveTab('history')}\r\n                        >\r\n                            –ò—Å—Ç–æ—Ä–∏—è\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"modal-body\">\r\n                    {activeTab === 'view' && (\r\n                        <div className=\"view-content\">\r\n                            <div className=\"info-grid\">\r\n                                <div className=\"info-item\">\r\n                                    <label>ID:</label>\r\n                                    <span className=\"equipment-id\">{equipment.id}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>–¢–∏–ø:</label>\r\n                                    <span>{getEquipmentTypeText(equipment.type)}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>–ú–æ–¥–µ–ª—å:</label>\r\n                                    <span>{equipment.model}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>–°—Ç–∞—Ç—É—Å:</label>\r\n                                    <span className={`status-badge ${equipment.status}`}>\r\n                                        {getStatusText(equipment.status)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item\">\r\n                                    <label>–ü–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è:</label>\r\n                                    <span style={{\r\n                                        color: equipment.planned_hours > 0 ? '#ffffff' : 'rgba(255, 255, 255, 0.4)',\r\n                                        fontStyle: equipment.planned_hours > 0 ? 'normal' : 'italic'\r\n                                    }}>\r\n                                        {equipment.planned_hours > 0\r\n                                            ? `${equipment.planned_hours} ${getHoursText(equipment.planned_hours)}`\r\n                                            : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'\r\n                                        }\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item full-width\">\r\n                                    <label>–ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å:</label>\r\n                                    <span>{equipment.malfunction || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-item full-width\">\r\n                                    <label>–ú–µ—Ö–∞–Ω–∏–∫:</label>\r\n                                    <span>{equipment.mechanic_name || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'edit' && (canEditAllFields || canEditLimitedFields) && (\r\n                        <form onSubmit={handleSubmit} className=\"edit-form\">\r\n                            {/* ‚úÖ –ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ô –ë–õ–û–ö –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ */}\r\n                            {canEditLimitedFields && !canEditAllFields && (\r\n                                <div style={{\r\n                                    background: 'rgba(79, 172, 254, 0.1)',\r\n                                    border: '1px solid rgba(79, 172, 254, 0.3)',\r\n                                    borderRadius: '8px',\r\n                                    padding: '15px',\r\n                                    marginBottom: '20px',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '12px'\r\n                                }}>\r\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"#4facfe\">\r\n                                        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\" />\r\n                                    </svg>\r\n                                    <div style={{ flex: 1, fontSize: '0.9rem', color: '#4facfe' }}>\r\n                                        <strong>–†–µ–∂–∏–º –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:</strong> –í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –∏ –º–µ—Ö–∞–Ω–∏–∫–∞.\r\n                                        –û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps.\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"form-grid\">\r\n                                {/* ‚úÖ ID - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ */}\r\n                                <div className=\"form-group\">\r\n                                    <label>\r\n                                        ID –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è\r\n                                        {!canEditField('id') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(255, 193, 7, 0.8)'\r\n                                            }}>\r\n                                                üîí –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n                                    <div style={{ display: 'flex', gap: '10px' }}>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"id\"\r\n                                            value={formData.id}\r\n                                            onChange={handleChange}\r\n                                            disabled={!canEditField('id') || loading}\r\n                                            placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: EX001, LD002\"\r\n                                            style={{\r\n                                                flex: 1,\r\n                                                background: !canEditField('id') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                                cursor: !canEditField('id') ? 'not-allowed' : 'text',\r\n                                                opacity: !canEditField('id') ? 0.6 : 1\r\n                                            }}\r\n                                            title={!canEditField('id') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''}\r\n                                        />\r\n                                        {canEditField('id') && formData.id !== originalId && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => setShowIdChangeConfirm(true)}\r\n                                                disabled={loading}\r\n                                                style={{\r\n                                                    background: '#ffc107',\r\n                                                    color: '#000',\r\n                                                    border: 'none',\r\n                                                    padding: '8px 12px',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '0.8rem'\r\n                                                }}\r\n                                            >\r\n                                                –ò–∑–º–µ–Ω–∏—Ç—å ID\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    {canEditField('id') && formData.id !== originalId && (\r\n                                        <small style={{ color: '#ffc107', fontSize: '0.8rem' }}>\r\n                                            ‚ö†Ô∏è ID –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω. –ù–∞–∂–º–∏—Ç–µ \"–ò–∑–º–µ–Ω–∏—Ç—å ID\" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.\r\n                                        </small>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* ‚úÖ –¢–ò–ü - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ */}\r\n                                <div className=\"form-group\">\r\n                                    <label>\r\n                                        –¢–∏–ø\r\n                                        {!canEditField('type') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(255, 193, 7, 0.8)'\r\n                                            }}>\r\n                                                üîí\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n                                    <select\r\n                                        name=\"type\"\r\n                                        value={formData.type}\r\n                                        onChange={handleChange}\r\n                                        disabled={!canEditField('type') || loading}\r\n                                        style={{\r\n                                            background: !canEditField('type') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                            cursor: !canEditField('type') ? 'not-allowed' : 'pointer',\r\n                                            opacity: !canEditField('type') ? 0.6 : 1\r\n                                        }}\r\n                                        title={!canEditField('type') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''}\r\n                                    >\r\n                                        <option value=\"shovel\">–≠–∫—Å–∫–∞–≤–∞—Ç–æ—Ä</option>\r\n                                        <option value=\"loader\">–ü–æ–≥—Ä—É–∑—á–∏–∫</option>\r\n                                        <option value=\"watertruck\">–í–æ–¥–æ–≤–æ–∑</option>\r\n                                        <option value=\"dozer\">–ë—É–ª—å–¥–æ–∑–µ—Ä</option>\r\n                                        <option value=\"drill\">–ë—É—Ä–æ–≤–æ–π —Å—Ç–∞–Ω–æ–∫</option>\r\n                                        <option value=\"grader\">–ê–≤—Ç–æ–≥—Ä–µ–π–¥–µ—Ä</option>\r\n                                        <option value=\"truck\">–°–∞–º–æ—Å–≤–∞–ª</option>\r\n                                        <option value=\"auxequipment\">–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                {/* ‚úÖ –ú–û–î–ï–õ–¨ - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ */}\r\n                                <div className=\"form-group\">\r\n                                    <label>\r\n                                        –ú–æ–¥–µ–ª—å\r\n                                        {!canEditField('model') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(255, 193, 7, 0.8)'\r\n                                            }}>\r\n                                                üîí\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"model\"\r\n                                        value={formData.model}\r\n                                        onChange={handleChange}\r\n                                        disabled={!canEditField('model') || loading}\r\n                                        placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: CAT 320D, Volvo L120H\"\r\n                                        style={{\r\n                                            background: !canEditField('model') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                            cursor: !canEditField('model') ? 'not-allowed' : 'text',\r\n                                            opacity: !canEditField('model') ? 0.6 : 1\r\n                                        }}\r\n                                        title={!canEditField('model') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* ‚úÖ –°–¢–ê–¢–£–° - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ */}\r\n                                <div className=\"form-group\">\r\n                                    <label>\r\n                                        –°—Ç–∞—Ç—É—Å\r\n                                        {!canEditField('status') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(255, 193, 7, 0.8)'\r\n                                            }}>\r\n                                                üîí\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n                                    <select\r\n                                        name=\"status\"\r\n                                        value={formData.status}\r\n                                        onChange={handleChange}\r\n                                        disabled={!canEditField('status') || loading}\r\n                                        style={{\r\n                                            background: !canEditField('status') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                            cursor: !canEditField('status') ? 'not-allowed' : 'pointer',\r\n                                            opacity: !canEditField('status') ? 0.6 : 1\r\n                                        }}\r\n                                        title={!canEditField('status') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''}\r\n                                    >\r\n                                        <option value=\"Ready\">Ready</option>\r\n                                        <option value=\"Down\">Down</option>\r\n                                        <option value=\"Standby\">Standby</option>\r\n                                        <option value=\"Delay\">Delay</option>\r\n                                        <option value=\"Shiftchange\">Shiftchange</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                {/* ‚úÖ –ü–õ–ê–ù–û–í–û–ï –í–†–ï–ú–Ø - –¥–ª—è –≤—Å–µ—Ö */}\r\n                                <div className=\"form-group\">\r\n                                    <label>\r\n                                        –ü–ª–∞–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è (—á–∞—Å—ã)\r\n                                        {canEditField('planned_hours') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(40, 167, 69, 0.8)'\r\n                                            }}>\r\n                                                ‚úèÔ∏è –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n\r\n                                    {/* –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π */}\r\n                                    <div style={{\r\n                                        display: 'flex',\r\n                                        gap: '8px',\r\n                                        marginBottom: '10px',\r\n                                        flexWrap: 'wrap'\r\n                                    }}>\r\n                                        {[1, 2, 4, 6, 8, 12, 24 , 48].map(hours => (\r\n                                            <button\r\n                                                key={hours}\r\n                                                type=\"button\"\r\n                                                onClick={() => setFormData(prev => ({\r\n                                                    ...prev,\r\n                                                    planned_hours: hours\r\n                                                }))}\r\n                                                disabled={!canEditField('planned_hours') || loading}\r\n                                                style={{\r\n                                                    background: formData.planned_hours === hours\r\n                                                        ? 'rgba(79, 172, 254, 0.3)'\r\n                                                        : 'rgba(255, 255, 255, 0.1)',\r\n                                                    border: `1px solid ${formData.planned_hours === hours\r\n                                                        ? '#4facfe'\r\n                                                        : 'rgba(255, 255, 255, 0.2)'}`,\r\n                                                    color: '#ffffff',\r\n                                                    padding: '6px 12px',\r\n                                                    borderRadius: '6px',\r\n                                                    cursor: (!canEditField('planned_hours') || loading) ? 'not-allowed' : 'pointer',\r\n                                                    fontSize: '0.85rem',\r\n                                                    transition: 'all 0.2s ease',\r\n                                                    fontWeight: formData.planned_hours === hours ? '600' : '400',\r\n                                                    opacity: (!canEditField('planned_hours') || loading) ? 0.5 : 1\r\n                                                }}\r\n                                            >\r\n                                                {hours}—á\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n\r\n                                    {/* –†—É—á–Ω–æ–π –≤–≤–æ–¥ */}\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"planned_hours\"\r\n                                        value={formData.planned_hours || ''}\r\n                                        onChange={handlePlannedHoursChange}\r\n                                        disabled={!canEditField('planned_hours') || loading}\r\n                                        placeholder=\"–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é: 1.5, 6.5, 8...\"\r\n                                        style={{\r\n                                            fontFamily: 'monospace',\r\n                                            fontSize: '1rem',\r\n                                            background: !canEditField('planned_hours') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                            cursor: !canEditField('planned_hours') ? 'not-allowed' : 'text',\r\n                                            opacity: !canEditField('planned_hours') ? 0.6 : 1,\r\n                                            border: canEditField('planned_hours') ? '2px solid rgba(40, 167, 69, 0.3)' : undefined\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* ‚úÖ –ù–ï–ò–°–ü–†–ê–í–ù–û–°–¢–¨ - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ */}\r\n                                <div className=\"form-group full-width\">\r\n                                    <label>\r\n                                        –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å\r\n                                        {!canEditField('malfunction') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(255, 193, 7, 0.8)'\r\n                                            }}>\r\n                                                üîí –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n                                    <textarea\r\n                                        name=\"malfunction\"\r\n                                        value={formData.malfunction}\r\n                                        onChange={handleChange}\r\n                                        rows=\"3\"\r\n                                        placeholder=\"–û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏...\"\r\n                                        disabled={!canEditField('malfunction') || loading}\r\n                                        style={{\r\n                                            background: !canEditField('malfunction') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                            cursor: !canEditField('malfunction') ? 'not-allowed' : 'text',\r\n                                            opacity: !canEditField('malfunction') ? 0.6 : 1\r\n                                        }}\r\n                                        title={!canEditField('malfunction') ? '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ JMineOps' : ''}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* ‚úÖ –ú–ï–•–ê–ù–ò–ö - –¥–ª—è –≤—Å–µ—Ö */}\r\n                                <div className=\"form-group full-width\">\r\n                                    <label>\r\n                                        –ú–µ—Ö–∞–Ω–∏–∫\r\n                                        {canEditField('mechanic_name') && (\r\n                                            <span style={{\r\n                                                marginLeft: '8px',\r\n                                                fontSize: '0.85rem',\r\n                                                color: 'rgba(40, 167, 69, 0.8)'\r\n                                            }}>\r\n                                                ‚úèÔ∏è –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å\r\n                                            </span>\r\n                                        )}\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"mechanic_name\"\r\n                                        value={formData.mechanic_name}\r\n                                        onChange={handleChange}\r\n                                        placeholder=\"–§–ò–û –º–µ—Ö–∞–Ω–∏–∫–∞\"\r\n                                        disabled={!canEditField('mechanic_name') || loading}\r\n                                        style={{\r\n                                            background: !canEditField('mechanic_name') ? 'rgba(255, 255, 255, 0.05)' : undefined,\r\n                                            cursor: !canEditField('mechanic_name') ? 'not-allowed' : 'text',\r\n                                            opacity: !canEditField('mechanic_name') ? 0.6 : 1,\r\n                                            border: canEditField('mechanic_name') ? '2px solid rgba(40, 167, 69, 0.3)' : undefined\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"cancel-button\"\r\n                                    onClick={onClose}\r\n                                    disabled={loading}\r\n                                >\r\n                                    –û—Ç–º–µ–Ω–∞\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"save-button\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n\r\n                    {activeTab === 'history' && canViewHistory && (\r\n                        <div className=\"history-content\">\r\n                            {historyLoading ? (\r\n                                <div style={{\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    padding: '40px',\r\n                                    color: 'rgba(255, 255, 255, 0.7)'\r\n                                }}>\r\n                                    <div style={{\r\n                                        width: '80px',\r\n                                        height: '80px',\r\n                                        border: '4px solid rgba(79, 172, 254, 0.2)',\r\n                                        borderTop: '4px solid #4facfe',\r\n                                        borderRadius: '50%',\r\n                                        animation: 'spin 1s linear infinite',\r\n                                        marginBottom: '15px'\r\n                                    }}></div>\r\n                                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π...</p>\r\n                                </div>\r\n                            ) : !history || history.length === 0 ? (\r\n                                <p className=\"no-history\" style={{\r\n                                    textAlign: 'center',\r\n                                    padding: '40px',\r\n                                    color: 'rgba(255, 255, 255, 0.6)'\r\n                                }}>\r\n                                    {!history ? '–ò—Å—Ç–æ—Ä–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞' : '–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—É—Å—Ç–∞'}\r\n                                </p>\r\n                            ) : (\r\n                                <div className=\"history-list\">\r\n                                    {history.map((item) => (\r\n                                        <div key={item.id} className=\"history-item\">\r\n                                            <div className=\"history-header\">\r\n                                                <span className=\"history-action\">\r\n                                                    {getActionText(item.action)}\r\n                                                </span>\r\n                                                <span className=\"history-time\">\r\n                                                    {formatDateTime(item.timestamp)}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"history-user\">\r\n                                                –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {item.full_name || item.username}\r\n                                            </div>\r\n                                            {item.old_value && item.new_value && (\r\n                                                <div className=\"history-changes\">\r\n                                                    <span className=\"old-value\">\"{item.old_value}\"</span>\r\n                                                    <span className=\"arrow\">‚Üí</span>\r\n                                                    <span className=\"new-value\">\"{item.new_value}\"</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø ID */}\r\n                {showIdChangeConfirm && (\r\n                    <div className=\"modal-backdrop\" onClick={(e) => {\r\n                        if (e.target === e.currentTarget) setShowIdChangeConfirm(false);\r\n                    }}>\r\n                        <div className=\"modal-content\" style={{ maxWidth: '500px' }}>\r\n                            <div className=\"modal-header\">\r\n                                <h3>–ò–∑–º–µ–Ω–µ–Ω–∏–µ ID –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h3>\r\n                                <button\r\n                                    className=\"close-button\"\r\n                                    onClick={() => setShowIdChangeConfirm(false)}\r\n                                >\r\n                                    √ó\r\n                                </button>\r\n                            </div>\r\n                            <div style={{ padding: '20px' }}>\r\n                                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å ID –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è?</p>\r\n                                <div style={{\r\n                                    background: 'rgba(255, 193, 7, 0.1)',\r\n                                    padding: '15px',\r\n                                    borderRadius: '8px',\r\n                                    margin: '15px 0'\r\n                                }}>\r\n                                    <strong>–°—Ç–∞—Ä—ã–π ID:</strong> {originalId}<br />\r\n                                    <strong>–ù–æ–≤—ã–π ID:</strong> {formData.id}\r\n                                </div>\r\n                                <p style={{ fontSize: '0.9rem', color: 'rgba(255,255,255,0.7)' }}>\r\n                                    ‚ö†Ô∏è –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑–º–µ–Ω–∏—Ç ID –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –≤–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ –∏ –∏—Å—Ç–æ—Ä–∏–∏.\r\n                                </p>\r\n                                <div style={{\r\n                                    display: 'flex',\r\n                                    gap: '10px',\r\n                                    justifyContent: 'flex-end',\r\n                                    marginTop: '20px'\r\n                                }}>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"cancel-button\"\r\n                                        onClick={() => {\r\n                                            setFormData(prev => ({ ...prev, id: originalId }));\r\n                                            setShowIdChangeConfirm(false);\r\n                                        }}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        –û—Ç–º–µ–Ω–∞\r\n                                    </button>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={handleIdChange}\r\n                                        disabled={loading}\r\n                                        style={{\r\n                                            background: '#ffc107',\r\n                                            color: '#000',\r\n                                            border: 'none',\r\n                                            padding: '10px 20px',\r\n                                            borderRadius: '6px',\r\n                                            cursor: 'pointer',\r\n                                            fontWeight: '600'\r\n                                        }}\r\n                                    >\r\n                                        {loading ? '–ò–∑–º–µ–Ω–µ–Ω–∏–µ...' : '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ ID'}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <style jsx>{`\r\n                    @keyframes spin {\r\n                        0% { transform: rotate(0deg); }\r\n                        100% { transform: rotate(360deg); }\r\n                    }\r\n                `}</style>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EquipmentTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}